(function e(b,g,d){function c(k,i){if(!g[k]){if(!b[k]){var h=typeof require=="function"&&require;if(!i&&h){return h(k,!0)}if(a){return a(k,!0)}throw new Error("Cannot find module '"+k+"'")}var j=g[k]={exports:{}};b[k][0].call(j.exports,function(l){var m=b[k][1][l];return c(m?m:l)},j,j.exports,e,b,g,d)}return g[k].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(b,a,f){var g,h,j,d,c,i;b("./helpers");g=b("jquery");i=b("underscore");j=b("./visualizer/visualizer");h=b("dat-gui");d=b("./model/world");c=b("./settings");g(function(){var l,k,n,m;l=g("<canvas />",{id:"canvas"});g(document.body).append(l);window.world=new d();world.load();if(world.intersections.length===0){world.generateMap();world.carsNumber=1}window.visualizer=new j(world);world.setVisualizer(visualizer);visualizer.start();k=new h.GUI();m=k.addFolder("world");m.open();m.add(world,"save");m.add(world,"load");m.add(world,"clear");m.add(world,"generateMap");m.add(world,"loggingCar");n=k.addFolder("visualizer");n.open();n.add(visualizer,"running").listen();n.add(visualizer,"debug").listen();n.add(visualizer.zoomer,"scale",0.1,2).listen();n.add(visualizer,"timeFactor",0.1,10).listen();m.add(world,"carsNumber").min(0).max(200).step(1).listen();m.add(world,"instantSpeed").step(0.00001).listen();k.add(c,"lightsFlipInterval",0,400,0.01).listen()})},{"./helpers":6,"./model/world":15,"./settings":16,"./visualizer/visualizer":24,"dat-gui":27,"jquery":31,"underscore":32}],2:[function(b,f,a){var d,c;b("../helpers");c=b("./segment");d=(function(){function g(h,k,j,i){this.A=h;this.B=k;this.O=j;this.Q=i;this.AB=new c(this.A,this.B);this.AO=new c(this.A,this.O);this.OQ=new c(this.O,this.Q);this.QB=new c(this.Q,this.B);this._length=null}g.property("length",{get:function(){var k,h,l,j,m;if(this._length==null){l=10;j=null;this._length=0;for(k=m=0;0<=l?m<=l:m>=l;k=0<=l?++m:--m){h=this.getPoint(k/l);if(j){this._length+=h.subtract(j).length}j=h}}return this._length}});g.prototype.getPoint=function(h){var m,l,k,j,i;m=this.AO.getPoint(h);l=this.OQ.getPoint(h);k=this.QB.getPoint(h);j=(new c(m,l)).getPoint(h);i=(new c(l,k)).getPoint(h);return(new c(j,i)).getPoint(h)};g.prototype.getDirection=function(h){var m,l,k,j,i;m=this.AO.getPoint(h);l=this.OQ.getPoint(h);k=this.QB.getPoint(h);j=(new c(m,l)).getPoint(h);i=(new c(l,k)).getPoint(h);return(new c(j,i)).direction};return g})();f.exports=d},{"../helpers":6,"./segment":5}],3:[function(b,d,a){var f,c,g;g=Math.sqrt,c=Math.atan2;b("../helpers");f=(function(){function h(i,j){this.x=i!=null?i:0;this.y=j!=null?j:0}h.property("length",{get:function(){return g(this.x*this.x+this.y*this.y)}});h.property("direction",{get:function(){return c(this.y,this.x)}});h.property("normalized",{get:function(){return new h(this.x/this.length,this.y/this.length)}});h.prototype.add=function(i){return new h(this.x+i.x,this.y+i.y)};h.prototype.subtract=function(i){return new h(this.x-i.x,this.y-i.y)};h.prototype.mult=function(i){return new h(this.x*i,this.y*i)};h.prototype.divide=function(i){return new h(this.x/i,this.y/i)};return h})();d.exports=f},{"../helpers":6}],4:[function(f,h,b){var i,d,g,a,c;a=Math.abs;f("../helpers");c=f("underscore");i=f("./point");g=f("./segment");d=(function(){function j(l,n,k,m){this.x=l;this.y=n;this._width=k!=null?k:0;this._height=m!=null?m:0}j.copy=function(k){return new j(k.x,k.y,k._width,k._height)};j.prototype.toJSON=function(){return c.extend({},this)};j.prototype.area=function(){return this.width()*this.height()};j.prototype.left=function(k){if(k!=null){this.x=k}return this.x};j.prototype.right=function(k){if(k!=null){this.x=k-this.width()}return this.x+this.width()};j.prototype.width=function(k){if(k!=null){this._width=k}return this._width};j.prototype.top=function(k){if(k!=null){this.y=k}return this.y};j.prototype.bottom=function(k){if(k!=null){this.y=k-this.height()}return this.y+this.height()};j.prototype.height=function(k){if(k!=null){this._height=k}return this._height};j.prototype.center=function(k){if(k!=null){this.x=k.x-this.width()/2;this.y=k.y-this.height()/2}return new i(this.x+this.width()/2,this.y+this.height()/2)};j.prototype.containsPoint=function(l){var m,k;return(this.left()<=(m=l.x)&&m<=this.right())&&(this.top()<=(k=l.y)&&k<=this.bottom())};j.prototype.containsRect=function(k){return this.left()<=k.left()&&k.right()<=this.right()&&this.top()<=k.top()&&k.bottom()<=this.bottom()};j.prototype.getVertices=function(){return[new i(this.left(),this.top()),new i(this.right(),this.top()),new i(this.right(),this.bottom()),new i(this.left(),this.bottom())]};j.prototype.getSide=function(l){var k;k=this.getVertices();return new g(k[l],k[(l+1)%4])};j.prototype.getSectorId=function(k){var l;l=k.subtract(this.center());if(l.y<=0&&a(l.x)<=a(l.y)){return 0}if(l.x>=0&&a(l.x)>=a(l.y)){return 1}if(l.y>=0&&a(l.x)<=a(l.y)){return 2}if(l.x<=0&&a(l.x)>=a(l.y)){return 3}throw Error("algorithm error")};j.prototype.getSector=function(k){return this.getSide(this.getSectorId(k))
};return j})();h.exports=d},{"../helpers":6,"./point":3,"./segment":5,"underscore":32}],5:[function(b,d,a){var c;b("../helpers");c=(function(){function f(g,h){this.source=g;this.target=h}f.property("vector",{get:function(){return this.target.subtract(this.source)}});f.property("length",{get:function(){return this.vector.length}});f.property("direction",{get:function(){return this.vector.direction}});f.property("center",{get:function(){return this.getPoint(0.5)}});f.prototype.split=function(g,t){var q,h,r,p,j,u,s,o,m,l,i;h=t?(function(){m=[];for(var k=s=g-1;s<=0?k<=0:k>=0;s<=0?k++:k--){m.push(k)}return m}).apply(this):(function(){l=[];for(var n=0,k=g-1;0<=k?n<=k:n>=k;0<=k?n++:n--){l.push(n)}return l}).apply(this);i=[];for(j=0,u=h.length;j<u;j++){q=h[j];i.push(this.subsegment(q/g,(q+1)/g))}return i};f.prototype.getPoint=function(g){return this.source.add(this.vector.mult(g))};f.prototype.subsegment=function(i,g){var h,j,k;j=this.vector;k=this.source.add(j.mult(i));h=this.source.add(j.mult(g));return new f(k,h)};return f})();d.exports=c},{"../helpers":6}],6:[function(b,c,a){c.exports={};Function.prototype.property=function(f,d){return Object.defineProperty(this.prototype,f,d)}},{}],7:[function(c,a,g){var l,d,h,f,b,k,j;h=Math.max,f=Math.min,b=Math.random,k=Math.sqrt;c("../helpers");j=c("underscore");d=c("./trajectory");function i(n){this.numActions=n;var m=Math.random();this.prob=new Array(0.5,0.5);this.value=new Array(0,0);this.visits=0;this.aveValue=0;this.actRandomlyWithProbability=0.05;this.action=0;this.alpha=0.1;this.deltaWin=0.0001;this.deltaLose=0.001}i.prototype.getAction=function(){if(Math.random()<this.actRandomlyWithProbability){this.action=Math.floor(Math.random()*this.numActions);return this.action}else{var m=Math.random();for(this.action=0;this.action<this.numActions;this.action++){if(m<this.prob[this.action]){return this.action}else{m=m-this.prob[this.action]}}}return 0};i.prototype.tellReward=function(o){this.value[this.action]=this.value[this.action]+this.alpha*(o-this.value[this.action]);this.visits++;this.aveValue=this.aveValue+(1/this.visits)*(o-this.aveValue);var q=Math.floor(Math.random()*this.numActions);var n=q;for(var m=1;m<this.numActions;m++){if(this.value[(m+q)%this.numActions]>this.value[n]){n=(m+q)%this.numActions}}var p;if(this.value[n]>this.aveValue){p=this.deltaWin}else{p=this.deltaLose}this.prob[n]+=this.numActions*p;for(var m=0;m<this.numActions;m++){this.prob[m]-=p;if(this.prob[m]<0){this.prob[n]+=this.prob[m];this.prob[m]=0}}};l=(function(){function m(p,o,n){this.wl=new i(2);this.laneNumber=p;this.id=j.uniqueId("car");this.color=(300+240*b()|0)%360;this._speed=0;this.width=1.7;this.length=3+2*b();this.maxSpeed=3;this.s0=2;this.timeHeadway=1.5;this.maxAcceleration=1;this.maxDeceleration=3;this.trajectory=new d(this,o,n);this.alive=true;this.preferedLane=null}m.property("coords",{get:function(){return this.trajectory.coords}});m.property("speed",{get:function(){return this._speed},set:function(n){if(n<0){n=0}if(n>this.maxSpeed){n=this.maxSpeed}return this._speed=n}});m.property("direction",{get:function(){return this.trajectory.direction}});m.prototype.release=function(){return this.trajectory.release()};m.prototype.getAcceleration=function(){var A,z,B,w,u,n,o,x,q,v,s,y,r,p,t;s=this.trajectory.nextCarDistance;x=h(s.distance,0);A=this.maxAcceleration;z=this.maxDeceleration;n=(this.speed-((t=s.car)!=null?t.speed:void 0))||0;q=Math.pow(this.speed/this.maxSpeed,4);o=this.s0;p=this.speed*this.timeHeadway;B=this.speed*n/(2*k(A*z));y=o+p+B;w=Math.pow(y/x,2);r=1+p+Math.pow(this.speed,2)/(2*z);v=Math.pow(r/this.trajectory.distanceToStopLine,2);u=1-q-w-v;return this.maxAcceleration*u};m.prototype.move=function(s){var p,r,q,o,n;p=this.getAcceleration();this.speed+=p*s;o=this.speed*s+0.5*p*Math.pow(s,2);if(this.trajectory.nextCarDistance.distance<o){console.log("bad IDM")}if(this.trajectory.timeToMakeTurn(o)){if(this.nextLane==null){return this.alive=false}}return this.trajectory.moveForward(o)};m.prototype.pickNextRoad=function(){var p,q,o,n;q=this.trajectory.nextIntersection;p=this.trajectory.current.lane;n=q.roads.filter(function(r){return r.target!==p.road.source});if(n.length===0){return null}return o=j.sample(n)};m.prototype.pickNextLane=function(){var p,o,n;this.nextLane=null;o=this.pickNextRoad();if(!o){return null}this.nextLane=o.lanes[this.laneNumber];if(!this.nextLane){throw Error("can not pick next lane")}return this.nextLane};m.prototype.popNextLane=function(){var n;n=this.nextLane;this.nextLane=null;this.preferedLane=null;return n};return m})();a.exports=l},{"../helpers":6,"./trajectory":14,"underscore":32}],8:[function(d,f,b){var a,i,h,c=function(j,k){return function(){return j.apply(k,arguments)}},g=[].indexOf||function(m){for(var k=0,j=this.length;k<j;k++){if(k in this&&this[k]===m){return k}}return -1};i=Math.random;d("../helpers");h=d("../settings");a=(function(){function j(k){this.intersection=k;this.onTick=c(this.onTick,this);this.flipMultiplier=i();this.phaseOffset=100*i();
this.time=this.phaseOffset;this.stateNum=0}j.copy=function(l,m){var k;if(l==null){return new j(m)}k=Object.create(j.prototype);k.flipMultiplier=l.flipMultiplier;k.time=k.phaseOffset=l.phaseOffset;k.stateNum=0;k.intersection=m;return k};j.prototype.toJSON=function(){var k;return k={flipMultiplier:this.flipMultiplier,phaseOffset:this.phaseOffset}};j.prototype.states=[["L","","L",""],["FR","","FR",""],["","L","","L"],["","FR","","FR"]];j.STATE=[{RED:0,GREEN:1}];j.property("flipInterval",{get:function(){return(0.1+0.05*this.flipMultiplier)*h.lightsFlipInterval}});j.prototype._decode=function(l){var k;k=[0,0,0];if(g.call(l,"L")>=0){k[0]=1}if(g.call(l,"F")>=0){k[1]=1}if(g.call(l,"R")>=0){k[2]=1}return k};j.property("state",{get:function(){var l,k,o,n,m;l=this.states[this.stateNum%this.states.length];if(this.intersection.roads.length<=2){l=["LFR","LFR","LFR","LFR"]}m=[];for(o=0,n=l.length;o<n;o++){k=l[o];m.push(this._decode(k))}return m}});j.prototype.flip=function(){return this.stateNum+=1};j.prototype.onTick=function(k){this.time+=k;if(this.time>this.flipInterval){this.flip();return this.time-=this.flipInterval}};return j})();f.exports=a},{"../helpers":6,"../settings":16}],9:[function(f,g,b){var a,h,d,c;f("../helpers");c=f("underscore");a=f("./control-signals");d=f("../geom/rect");h=(function(){function i(j){this.rect=j;this.id=c.uniqueId("intersection");this.roads=[];this.inRoads=[];this.controlSignals=new a(this)}i.copy=function(k){var j;k.rect=d.copy(k.rect);j=Object.create(i.prototype);c.extend(j,k);j.roads=[];j.inRoads=[];j.controlSignals=a.copy(j.controlSignals,j);return j};i.prototype.toJSON=function(){var j;return j={id:this.id,rect:this.rect,controlSignals:this.controlSignals}};i.prototype.update=function(){var k,q,o,n,m,p,j,l;p=this.roads;for(q=0,n=p.length;q<n;q++){k=p[q];k.update()}j=this.inRoads;l=[];for(o=0,m=j.length;o<m;o++){k=j[o];l.push(k.update())}return l};return i})();g.exports=h},{"../geom/rect":4,"../helpers":6,"./control-signals":8,"underscore":32}],10:[function(c,d,a){var f,b;c("../helpers");b=c("underscore");f=(function(){function g(j,i,h){this.car=j;this.position=h;this.id=b.uniqueId("laneposition");this.free=true;this.lane=i}g.property("lane",{get:function(){return this._lane},set:function(h){this.release();return this._lane=h}});g.property("relativePosition",{get:function(){return this.position/this.lane.length}});g.prototype.acquire=function(){var h;if(((h=this.lane)!=null?h.addCarPosition:void 0)!=null){this.free=false;return this.lane.addCarPosition(this)}};g.prototype.release=function(){var h;if(!this.free&&((h=this.lane)!=null?h.removeCar:void 0)){this.free=true;return this.lane.removeCar(this)}};g.prototype.getNext=function(){if(this.lane&&!this.free){return this.lane.getNext(this)}};g.property("nextCarDistance",{get:function(){var k,j,i,h;j=this.getNext();if(j){i=j.position-j.car.length/2;k=this.position+this.car.length/2;return h={car:j.car,distance:i-k}}return h={car:null,distance:Infinity}}});return g})();d.exports=f},{"../helpers":6,"underscore":32}],11:[function(c,f,a){var g,d,b;c("../helpers");b=c("underscore");d=c("../geom/segment");g=(function(){function h(k,j,i){this.sourceSegment=k;this.targetSegment=j;this.road=i;this.leftAdjacent=null;this.rightAdjacent=null;this.leftmostAdjacent=null;this.rightmostAdjacent=null;this.carsPositions={};this.update()}h.prototype.toJSON=function(){var i;i=b.extend({},this);delete i.carsPositions;return i};h.property("sourceSideId",{get:function(){return this.road.sourceSideId}});h.property("targetSideId",{get:function(){return this.road.targetSideId}});h.property("isRightmost",{get:function(){return this===this.rightmostAdjacent}});h.property("isLeftmost",{get:function(){return this===this.leftmostAdjacent}});h.property("leftBorder",{get:function(){return new d(this.sourceSegment.source,this.targetSegment.target)}});h.property("rightBorder",{get:function(){return new d(this.sourceSegment.target,this.targetSegment.source)}});h.prototype.update=function(){this.middleLine=new d(this.sourceSegment.center,this.targetSegment.center);this.length=this.middleLine.length;return this.direction=this.middleLine.direction};h.prototype.getTurnDirection=function(i){return this.road.getTurnDirection(i.road)};h.prototype.getDirection=function(){return this.direction};h.prototype.getPoint=function(i){return this.middleLine.getPoint(i)};h.prototype.addCarPosition=function(i){if(i.id in this.carsPositions){throw Error("car is already here")}return this.carsPositions[i.id]=i};h.prototype.removeCar=function(i){if(!(i.id in this.carsPositions)){throw Error("removing unknown car")}return delete this.carsPositions[i.id]};h.prototype.getNext=function(i){var k,p,n,j,m,l;if(i.lane!==this){throw Error("car is on other lane")}j=null;k=Infinity;l=this.carsPositions;for(n in l){m=l[n];p=m.position-i.position;if(!m.free&&(0<p&&p<k)){k=p;j=m}}return j};return h})();f.exports=g},{"../geom/segment":5,"../helpers":6,"underscore":32}],12:[function(c,d,b){var a;c("../helpers");
a=(function(){function f(i,j){var h,g,l;this.factory=i;this.objects={};if((j!=null)&&(j.objects!=null)){l=j.objects;for(h in l){g=l[h];this.objects[h]=this.factory.copy(g)}}}f.prototype.toJSON=function(){return this.objects};f.prototype.get=function(g){return this.objects[g]};f.prototype.put=function(g){return this.objects[g.id]=g};f.prototype.pop=function(i){var j,g,h;j=(h=i.id)!=null?h:i;g=this.objects[j];if(typeof g.release==="function"){g.release()}delete this.objects[j];return g};f.prototype.all=function(){return this.objects};f.prototype.clear=function(){return this.objects={}};f.property("length",{get:function(){return Object.keys(this.objects).length}});return f})();d.exports=a},{"../helpers":6}],13:[function(b,a,f){var g,h,i,d,c,j;d=Math.min,i=Math.max;b("../helpers");j=b("underscore");g=b("./lane");c=b("../settings");h=(function(){function k(l,m){this.source=l;this.target=m;this.id=j.uniqueId("road");this.lanes=[];this.lanesNumber=null;this.lanesNumber2=null;this.update()}k.copy=function(m){var l;l=Object.create(k.prototype);j.extend(l,m);if(l.lanes==null){l.lanes=[]}return l};k.prototype.toJSON=function(){var l;return l={id:this.id,source:this.source.id,target:this.target.id}};k.property("length",{get:function(){return this.targetSide.target.subtract(this.sourceSide.source).length}});k.property("leftmostLane",{get:function(){return this.lanes[this.lanesNumber-1]}});k.property("rightmostLane",{get:function(){return this.lanes[0]}});k.prototype.getTurnDirection=function(m){var o,n,l;if(this.target!==m.source){throw Error("invalid roads")}o=this.targetSideId;n=m.sourceSideId;return l=(n-o-1+8)%4};k.prototype.update=function(){var s,l,q,t,p,n,r,o,m;if(!(this.source&&this.target)){throw Error("incomplete road")}this.sourceSideId=this.source.rect.getSectorId(this.target.rect.center());this.sourceSide=this.source.rect.getSide(this.sourceSideId).subsegment(0,1);this.targetSideId=this.target.rect.getSectorId(this.source.rect.center());this.targetSide=this.target.rect.getSide(this.targetSideId).subsegment(0,1);this.lanesNumber=d(this.sourceSide.length,this.targetSide.length)|0;this.lanesNumber=i(2,this.lanesNumber/c.gridSize|0);l=this.sourceSide.split(this.lanesNumber,true);q=this.targetSide.split(this.lanesNumber);if((this.lanes==null)||this.lanes.length<this.lanesNumber){if(this.lanes==null){this.lanes=[]}for(s=p=0,r=this.lanesNumber-1;0<=r?p<=r:p>=r;s=0<=r?++p:--p){if((t=this.lanes)[s]==null){t[s]=new g(l[s],q[s],this)}}}m=[];for(s=n=0,o=this.lanesNumber-1;0<=o?n<=o:n>=o;s=0<=o?++n:--n){this.lanes[s].sourceSegment=l[s];this.lanes[s].targetSegment=q[s];this.lanes[s].leftAdjacent=this.lanes[s+1];this.lanes[s].rightAdjacent=this.lanes[s-1];this.lanes[s].leftmostAdjacent=this.lanes[this.lanesNumber-1];this.lanes[s].rightmostAdjacent=this.lanes[0];m.push(this.lanes[s].update())}return m};return k})();a.exports=h},{"../helpers":6,"../settings":16,"./lane":11,"underscore":32}],14:[function(b,a,f){var j,i,c,g,d,h;d=Math.min,g=Math.max;b("../helpers");i=b("./lane-position");j=b("../geom/curve");h=b("underscore");c=(function(){function k(n,m,l){this.car=n;if(l==null){l=0}this.current=new i(this.car,m,l);this.current.acquire();this.next=new i(this.car);this.temp=new i(this.car);this.isChangingLanes=false}k.property("lane",{get:function(){return this.temp.lane||this.current.lane}});k.property("absolutePosition",{get:function(){if(this.temp.lane!=null){return this.temp.position}else{return this.current.position}}});k.property("relativePosition",{get:function(){return this.absolutePosition/this.lane.length}});k.property("direction",{get:function(){return this.lane.getDirection(this.relativePosition)}});k.property("coords",{get:function(){return this.lane.getPoint(this.relativePosition)}});k.property("nextCarDistance",{get:function(){var m,l;m=this.current.nextCarDistance;l=this.next.nextCarDistance;if(m.distance<l.distance){return m}else{return l}}});k.property("distanceToStopLine",{get:function(){if(!this.canEnterIntersection()){return this.getDistanceToIntersection()}return Infinity}});k.property("nextIntersection",{get:function(){return this.current.lane.road.target}});k.property("previousIntersection",{get:function(){return this.current.lane.road.source}});k.prototype.isValidTurn=function(){var m,n,l;m=this.car.nextLane;n=this.current.lane;if(!m){throw Error("no road to enter")}l=n.getTurnDirection(m);if(l===3){throw Error("no U-turns are allowed")}if(l===0&&!n.isLeftmost){throw Error("no left turns from this lane")}if(l===2&&!n.isRightmost){throw Error("no right turns from this lane")}return true};k.prototype.canEnterIntersection=function(){var p,n,m,o,l;n=this.car.nextLane;o=this.current.lane;if(!n){return true}p=this.nextIntersection;l=o.getTurnDirection(n);m=o.road.targetSideId;return true};k.prototype.getDistanceToIntersection=function(){var l;l=this.current.lane.length-this.car.length/2-this.current.position;if(!this.isChangingLanes){return g(l,0)}else{return Infinity}};k.prototype.timeToMakeTurn=function(l){if(l==null){l=0
}return this.getDistanceToIntersection()<=l};k.prototype.moveForward=function(p){var o,m,n,l;p=g(p,0);this.current.position+=p;this.next.position+=p;this.temp.position+=p;if(this.timeToMakeTurn()&&this.canEnterIntersection()){this._startChangingLanes(this.car.popNextLane(),0)}m=this.temp.position/((n=this.temp.lane)!=null?n.length:void 0);o=2*this.car.length;if(this.isChangingLanes&&this.temp.position>o&&!this.current.free){this.current.release()}if(this.isChangingLanes&&this.next.free&&this.temp.position+o>((l=this.temp.lane)!=null?l.length:void 0)){this.next.acquire()}if(this.isChangingLanes&&m>=1){this._finishChangingLanes()}if(this.current.lane&&!this.isChangingLanes&&!this.car.nextLane){return this.car.pickNextLane()}};k.prototype.changeLane=function(m){var l;if(this.isChangingLanes){throw Error("already changing lane")}if(m==null){throw Error("no next lane")}if(m===this.lane){throw Error("next lane == current lane")}if(this.lane.road!==m.road){throw Error("not neighbouring lanes")}l=this.current.position+3*this.car.length;if(!(l<this.lane.length)){return false}return this._startChangingLanes(m,l)};k.prototype._getIntersectionLaneChangeCurve=function(){};k.prototype._getAdjacentLaneChangeCurve=function(){var m,l,q,s,p,r,o,n;o=this.current.lane.getPoint(this.current.relativePosition);n=this.next.lane.getPoint(this.next.relativePosition);r=n.subtract(o).length;s=this.current.lane.middleLine.vector.normalized.mult(r*0.3);m=o.add(s);p=this.next.lane.middleLine.vector.normalized.mult(r*0.3);l=n.subtract(p);return q=new j(o,n,m,l)};k.prototype._getCurve=function(){return this._getAdjacentLaneChangeCurve()};k.prototype._startChangingLanes=function(m,l){var n;if(this.isChangingLanes){throw Error("already changing lane")}if(m==null){throw Error("no next lane")}this.isChangingLanes=true;this.next.lane=m;this.next.position=l;n=this._getCurve();this.temp.lane=n;this.temp.position=0;return this.next.position-=this.temp.lane.length};k.prototype._finishChangingLanes=function(){if(!this.isChangingLanes){throw Error("no lane changing is going on")}this.isChangingLanes=false;this.current.lane=this.next.lane;this.current.position=this.next.position||0;this.current.acquire();this.next.lane=null;this.next.position=NaN;this.temp.lane=null;this.temp.position=NaN;return this.current.lane};k.prototype.release=function(){var m,l,n;if((m=this.current)!=null){m.release()}if((l=this.next)!=null){l.release()}return(n=this.temp)!=null?n.release():void 0};return k})();a.exports=c},{"../geom/curve":2,"../helpers":6,"./lane-position":10,"underscore":32}],15:[function(d,b,h){var m,k,n,a,j,g,c,f,l,i=function(o,p){return function(){return o.apply(p,arguments)}};c=Math.random;d("../helpers");l=d("underscore");m=d("./car");k=d("./intersection");j=d("./road");n=d("./pool");a=d("../geom/rect");f=d("../settings");g=(function(){function o(){this.tree=null;this.visualizer=null;this.onTick=i(this.onTick,this);this.set({});this.loggingCar=false}o.property("instantSpeed",{get:function(){var p;p=l.map(this.cars.all(),function(q){return q.speed});if(p.length===0){return 0}return(l.reduce(p,function(r,q){return r+q}))/p.length}});o.prototype.set=function(p){if(p==null){p={}}this.intersections=new n(k,p.intersections);this.roads=new n(j,p.roads);this.cars=new n(m,p.cars);this.carsNumber=0;return this.time=0};o.prototype.save=function(){var p;p=l.extend({},this);delete p.cars;return localStorage.world=JSON.stringify(p)};o.prototype.load=function(t){var v,u,q,s,p,r;t=t||localStorage.world;t=t&&JSON.parse(t);if(t==null){return}this.clear();this.carsNumber=t.carsNumber||0;s=t.intersections;for(v in s){u=s[v];this.addIntersection(k.copy(u))}p=t.roads;r=[];for(v in p){q=p[v];q=j.copy(q);q.source=this.getIntersection(q.source);q.target=this.getIntersection(q.target);r.push(this.addRoad(q))}return r};o.prototype.generateMap=function(A,r,v,p){var z,q,C,s,E,G,t,H,F,D,B,w,u;if(A==null){A=-2}if(r==null){r=2}if(v==null){v=-2}if(p==null){p=2}this.clear();C=(0.8*(r-A+1)*(p-v+1))|0;s={};z=f.gridSize;t=5*z;this.carsNumber=2;while(C>0){H=l.random(A,r);F=l.random(v,p);if(s[[H,F]]==null){G=new a(t*H,t*F,z,z);q=new k(G);this.addIntersection(s[[H,F]]=q);C-=1}}for(H=D=A;A<=r?D<=r:D>=r;H=A<=r?++D:--D){E=null;for(F=B=v;v<=p?B<=p:B>=p;F=v<=p?++B:--B){q=s[[H,F]];if(q!=null){if(c()<0.9){if(E!=null){this.addRoad(new j(q,E))}if(E!=null){this.addRoad(new j(E,q))}}E=q}}}for(F=w=v;v<=p?w<=p:w>=p;F=v<=p?++w:--w){E=null;for(H=u=A;A<=r?u<=r:u>=r;H=A<=r?++u:--u){q=s[[H,F]];if(q!=null){if(c()<0.9){if(E!=null){this.addRoad(new j(q,E))}if(E!=null){this.addRoad(new j(E,q))}}E=q}}}return null};o.prototype.clear=function(){return this.set({})};o.prototype.sleep=function(q){var p=new Date().getTime();while(true){if(new Date().getTime()-p>q){break}}};o.prototype.distance=function(r,p){var s=r.x-p.x;var q=r.y-p.y;return s*s+q*q};o.prototype.findNearest=function(p){return this.tree.nearest(p,5,1000)};o.prototype.onTick=function(E){var t,y,u,v,q,p;if(E>1){throw Error("delta > 1")}this.time+=E;this.refreshCars();
v=this.intersections.all();for(y in v){u=v[y];u.controlSignals.onTick(E)}q=this.cars.all();p=[];var H=[];for(y in q){t=q[y];var z={x:t.coords.x,y:t.coords.y,id:t.id};H.push(z)}this.tree=new kdTree(H,this.distance,["x","y"]);var w=[[1,-1],[-1,1]];var D=[[1,-1],[-1,1]];for(var C=0;C<H.length-1;C++){var z=H[C];var s=this.findNearest(z);var I=q[z.id];for(var A=0;A<s.length;A++){var B=s[A][0];if(B.id!=z.id){var x=q[B.id];var G=I.wl.getAction();var F=x.wl.getAction();I.wl.tellReward(w[G][F]);x.wl.tellReward(D[G][F]);this.visualizer.graphics.drawLine(I.coords,x.coords);this.visualizer.graphics.stroke(f.colors.roadMarking)}}}for(y in q){t=q[y];t.move(E);this.getLogInfor(t);if(!t.alive){p.push(this.removeCar(t))}else{p.push(void 0)}}return p};o.prototype.getLogInfor=function(p){if(this.loggingCar){var q="";q=q+"absolutePosition: "+p.trajectory.absolutePosition+"\n";q=q+"relativePosition: "+p.trajectory.relativePosition+"\n";q=q+"distanceToStopLine: "+p.trajectory.distanceToStopLine+"\n";q=q+"nextIntersection: "+p.trajectory.nextIntersection+"\n";if(p.trajectory.lane.road){q=q+"roadid: "+p.trajectory.lane.road.id+"\n"}q=q+"center x:"+p.coords.x+"\n";q=q+"center y:"+p.coords.y+"\n";q=q+"direction: "+p.direction+"\n";q=q+"laneNumber: "+p.laneNumber+"\n";q=q+"speed: "+p.speed+"\n";q=q+"position: "+p.trajectory.position+"\n";q=q+"nextCarDistance: "+p.trajectory.nextCarDistance.distance+"\n";q=q+"speed: "+p.speed+"\n";console.log(q)}};o.prototype.setVisualizer=function(p){this.visualizer=p};o.prototype.refreshCars=function(){if(this.cars.length<this.carsNumber){this.addRandomCar()}if(this.cars.length>this.carsNumber){return this.removeRandomCar()}};o.prototype.addRoad=function(p){this.roads.put(p);p.source.roads.push(p);p.target.inRoads.push(p);return p.update()};o.prototype.getRoad=function(p){return this.roads.get(p)};o.prototype.addCar=function(p){return this.cars.put(p)};o.prototype.getCar=function(p){return this.cars.get(p)};o.prototype.removeCar=function(p){return this.cars.pop(p)};o.prototype.addIntersection=function(p){return this.intersections.put(p)};o.prototype.getIntersection=function(p){return this.intersections.get(p)};o.prototype.addRandomCar=function(){var q,p;p=l.sample(this.roads.all());if(p!=null){var r=l.random(0,1);q=p.lanes[r];if(q!=null){return this.addCar(new m(r,q))}}};o.prototype.removeRandomCar=function(){var p;p=l.sample(this.cars.all());if(p!=null){return this.removeCar(p)}};return o})();b.exports=g},{"../geom/rect":4,"../helpers":6,"../settings":16,"./car":7,"./intersection":9,"./pool":12,"./road":13,"underscore":32}],16:[function(b,c,a){var d;d={colors:{background:"#97a1a1",redLight:"hsl(0, 100%, 50%)",greenLight:"#85ee00",intersection:"#586970",road:"#586970",roadMarking:"#bbb",hoveredIntersection:"#3d4c53",tempRoad:"#aaa",gridPoint:"#586970",grid1:"rgba(255, 255, 255, 0.5)",grid2:"rgba(220, 220, 220, 0.5)",hoveredGrid:"#f4e8e1"},fps:30,lightsFlipInterval:160,gridSize:14,defaultTimeFactor:5};c.exports=d},{}],17:[function(c,d,a){var b,g,f=[].slice;g=Math.PI;c("../helpers.coffee");b=(function(){function h(i){this.ctx=i}h.prototype.fillRect=function(k,j,l){var i;if(j!=null){this.ctx.fillStyle=j}i=this.ctx.globalAlpha;if(l!=null){this.ctx.globalAlpha=l}this.ctx.fillRect(k.left(),k.top(),k.width(),k.height());return this.ctx.globalAlpha=i};h.prototype.drawRect=function(l){var i,k,n,j,m;this.ctx.beginPath;k=l.getVertices();this.ctx.beginPath();this.moveTo(k[0]);m=k.slice(1);for(n=0,j=m.length;n<j;n++){i=m[n];this.lineTo(i)}return this.ctx.closePath()};h.prototype.drawImage=function(j,i){return this.ctx.drawImage(j,i.left(),i.top(),i.width(),i.height())};h.prototype.clear=function(i){this.ctx.fillStyle=i;return this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)};h.prototype.moveTo=function(i){return this.ctx.moveTo(i.x,i.y)};h.prototype.lineTo=function(i){return this.ctx.lineTo(i.x,i.y)};h.prototype.drawLine=function(i,j){this.ctx.beginPath();this.moveTo(i);return this.lineTo(j)};h.prototype.drawSegment=function(i){return this.drawLine(i.source,i.target)};h.prototype.drawCurve=function(p,n,k){var l,j,m,o;m=10;this.ctx.lineWidth=n;this.ctx.beginPath();this.moveTo(p.getPoint(0));for(l=o=0;0<=m?o<=m:o>=m;l=0<=m?++o:--o){j=p.getPoint(l/m);this.lineTo(j)}if(p.O){this.moveTo(p.O);this.ctx.arc(p.O.x,p.O.y,n,0,2*g)}if(p.Q){this.moveTo(p.Q);this.ctx.arc(p.Q.x,p.Q.y,n,0,2*g)}if(k){return this.stroke(k)}};h.prototype.drawTriangle=function(k,j,i){this.ctx.beginPath();this.moveTo(k);this.lineTo(j);return this.lineTo(i)};h.prototype.fill=function(j,k){var i;this.ctx.fillStyle=j;i=this.ctx.globalAlpha;if(k!=null){this.ctx.globalAlpha=k}this.ctx.fill();return this.ctx.globalAlpha=i};h.prototype.stroke=function(i){this.ctx.strokeStyle=i;return this.ctx.stroke()};h.prototype.polyline=function(){var i,k,m,j,l;k=1<=arguments.length?f.call(arguments,0):[];if(k.length>=1){this.ctx.beginPath();this.moveTo(k[0]);l=k.slice(1);for(m=0,j=l.length;m<j;m++){i=l[m];this.lineTo(i)}return this.ctx.closePath()}};h.prototype.save=function(){return this.ctx.save()
};h.prototype.restore=function(){return this.ctx.restore()};return h})();d.exports=b},{"../helpers.coffee":6}],18:[function(b,a,f){var j,i,c,g=function(k,l){return function(){return k.apply(l,arguments)}},h={}.hasOwnProperty,d=function(n,l){for(var k in l){if(h.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m();n.__super__=l.prototype;return n};b("../helpers.coffee");j=b("./tool.coffee");c=b("../settings.coffee");i=(function(k){d(l,k);function l(){this.draw=g(this.draw,this);this.mouseout=g(this.mouseout,this);this.mousemove=g(this.mousemove,this);l.__super__.constructor.apply(this,arguments);this.hoveredCell=null}l.prototype.mousemove=function(p){var n,m,r,q,o;n=this.getCell(p);m=this.getHoveredIntersection(n);this.hoveredCell=n;o=this.visualizer.world.intersections.all();for(r in o){q=o[r];q.color=null}if(m!=null){return m.color=c.colors.hoveredIntersection}};l.prototype.mouseout=function(){return this.hoveredCell=null};l.prototype.draw=function(){var m;if(this.hoveredCell){m=c.colors.hoveredGrid;return this.visualizer.graphics.fillRect(this.hoveredCell,m,0.5)}};return l})(j);a.exports=i},{"../helpers.coffee":6,"../settings.coffee":16,"./tool.coffee":23}],19:[function(b,a,d){var h,j,i,f=function(k,l){return function(){return k.apply(l,arguments)}},g={}.hasOwnProperty,c=function(n,l){for(var k in l){if(g.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m();n.__super__=l.prototype;return n};b("../helpers.coffee");j=b("./tool.coffee");h=b("../model/intersection.coffee");i=(function(l){c(k,l);function k(){this.draw=f(this.draw,this);this.mouseout=f(this.mouseout,this);this.mousemove=f(this.mousemove,this);this.mouseup=f(this.mouseup,this);this.mousedown=f(this.mousedown,this);k.__super__.constructor.apply(this,arguments);this.tempIntersection=null;this.mouseDownPos=null}k.prototype.mousedown=function(m){this.mouseDownPos=this.getCell(m);if(m.shiftKey){this.tempIntersection=new h(this.mouseDownPos);return m.stopImmediatePropagation()}};k.prototype.mouseup=function(){if(this.tempIntersection){this.visualizer.world.addIntersection(this.tempIntersection);this.tempIntersection=null}return this.mouseDownPos=null};k.prototype.mousemove=function(n){var m;if(this.tempIntersection){m=this.visualizer.zoomer.getBoundingBox(this.mouseDownPos,this.getCell(n));return this.tempIntersection.rect=m}};k.prototype.mouseout=function(){this.mouseDownPos=null;return this.tempIntersection=null};k.prototype.draw=function(){if(this.tempIntersection){return this.visualizer.drawIntersection(this.tempIntersection,0.4)}};return k})(j);a.exports=i},{"../helpers.coffee":6,"../model/intersection.coffee":9,"./tool.coffee":23}],20:[function(g,h,c){var a,b,f=function(j,k){return function(){return j.apply(k,arguments)}},d={}.hasOwnProperty,i=function(m,k){for(var j in k){if(d.call(k,j)){m[j]=k[j]}}function l(){this.constructor=m}l.prototype=k.prototype;m.prototype=new l();m.__super__=k.prototype;return m};g("../helpers.coffee");a=g("./tool.coffee");b=(function(k){i(j,k);function j(){this.mouseout=f(this.mouseout,this);this.mousemove=f(this.mousemove,this);this.mouseup=f(this.mouseup,this);this.mousedown=f(this.mousedown,this);j.__super__.constructor.apply(this,arguments);this.intersection=null}j.prototype.mousedown=function(l){var m;m=this.getHoveredIntersection(this.getCell(l));if(m){this.intersection=m;return l.stopImmediatePropagation()}};j.prototype.mouseup=function(){return this.intersection=null};j.prototype.mousemove=function(m){var l;if(this.intersection){l=this.getCell(m);this.intersection.rect.left(l.x);this.intersection.rect.top(l.y);return this.intersection.update()}};j.prototype.mouseout=function(){return this.intersection=null};return j})(a);h.exports=b},{"../helpers.coffee":6,"./tool.coffee":23}],21:[function(f,g,b){var i,a,d=function(j,k){return function(){return j.apply(k,arguments)}},c={}.hasOwnProperty,h=function(m,k){for(var j in k){if(c.call(k,j)){m[j]=k[j]}}function l(){this.constructor=m}l.prototype=k.prototype;m.prototype=new l();m.__super__=k.prototype;return m};f("../helpers.coffee");a=f("./tool.coffee");i=(function(j){h(k,j);function k(){this.mouseout=d(this.mouseout,this);this.mousemove=d(this.mousemove,this);this.mouseup=d(this.mouseup,this);this.mousedown=d(this.mousedown,this);k.__super__.constructor.apply(this,arguments);this.startPosition=null}k.prototype.contextmenu=function(){return false};k.prototype.mousedown=function(l){this.startPosition=this.getPoint(l);return l.stopImmediatePropagation()};k.prototype.mouseup=function(){return this.startPosition=null};k.prototype.mousemove=function(l){var m;if(this.startPosition){m=this.getPoint(l).subtract(this.startPosition);this.visualizer.zoomer.moveCenter(m);return this.startPosition=this.getPoint(l)}};k.prototype.mouseout=function(){return this.startPosition=null};return k})(a);g.exports=i},{"../helpers.coffee":6,"./tool.coffee":23}],22:[function(b,a,d){var g,j,i,f=function(k,l){return function(){return k.apply(l,arguments)
}},h={}.hasOwnProperty,c=function(n,l){for(var k in l){if(h.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m();n.__super__=l.prototype;return n};b("../helpers.coffee");j=b("./tool.coffee");g=b("../model/road.coffee");i=(function(l){c(k,l);function k(){this.draw=f(this.draw,this);this.mouseout=f(this.mouseout,this);this.mousemove=f(this.mousemove,this);this.mouseup=f(this.mouseup,this);this.mousedown=f(this.mousedown,this);k.__super__.constructor.apply(this,arguments);this.sourceIntersection=null;this.road=null;this.dualRoad=null}k.prototype.mousedown=function(o){var n,m;n=this.getCell(o);m=this.getHoveredIntersection(n);if(o.shiftKey&&(m!=null)){this.sourceIntersection=m;return o.stopImmediatePropagation()}};k.prototype.mouseup=function(m){if(this.road!=null){this.visualizer.world.addRoad(this.road)}if(this.dualRoad!=null){this.visualizer.world.addRoad(this.dualRoad)}return this.road=this.dualRoad=this.sourceIntersection=null};k.prototype.mousemove=function(o){var n,m;n=this.getCell(o);m=this.getHoveredIntersection(n);if(this.sourceIntersection&&m&&this.sourceIntersection.id!==m.id){if(this.road!=null){this.road.target=m;return this.dualRoad.source=m}else{this.road=new g(this.sourceIntersection,m);return this.dualRoad=new g(m,this.sourceIntersection)}}else{return this.road=this.dualRoad=null}};k.prototype.mouseout=function(m){return this.road=this.dualRoad=this.sourceIntersection=null};k.prototype.draw=function(){if(this.road!=null){this.visualizer.drawRoad(this.road,0.4)}if(this.dualRoad!=null){return this.visualizer.drawRoad(this.dualRoad,0.4)}};return k})(j);a.exports=i},{"../helpers.coffee":6,"../model/road.coffee":13,"./tool.coffee":23}],23:[function(c,b,d){var f,h,g,a,j,i;c("../helpers.coffee");f=c("jquery");i=c("underscore");g=c("../geom/point.coffee");a=c("../geom/rect.coffee");c("jquery-mousewheel")(f);h=["click","mousedown","mouseup","mousemove","mouseout","mousewheel","contextmenu"];j=(function(){function k(l,m){this.visualizer=l;this.ctx=this.visualizer.ctx;this.canvas=this.ctx.canvas;this.isBound=false;if(m){this.bind()}}k.prototype.bind=function(){var o,n,m,l;this.isBound=true;l=[];for(n=0,m=h.length;n<m;n++){o=h[n];if(this[o]!=null){l.push(f(this.canvas).on(o,this[o]))}}return l};k.prototype.unbind=function(){var o,n,m,l;this.isBound=false;l=[];for(n=0,m=h.length;n<m;n++){o=h[n];if(this[o]!=null){l.push(f(this.canvas).off(o,this[o]))}}return l};k.prototype.toggleState=function(){if(this.isBound){return this.unbind()}else{return this.bind()}};k.prototype.draw=function(){};k.prototype.getPoint=function(l){return new g(l.pageX-this.canvas.offsetLeft,l.pageY-this.canvas.offsetTop)};k.prototype.getCell=function(l){return this.visualizer.zoomer.toCellCoords(this.getPoint(l))};k.prototype.getHoveredIntersection=function(l){var o,n,m;m=this.visualizer.world.intersections.all();for(o in m){n=m[o];if(n.rect.containsRect(l)){return n}}};return k})();b.exports=j},{"../geom/point.coffee":3,"../geom/rect.coffee":4,"../helpers.coffee":6,"jquery":31,"jquery-mousewheel":30,"underscore":32}],24:[function(i,a,t){var g,n,l,q,h,s,p,j,d,b,k,f,m,o,r,c=function(u,v){return function(){return u.apply(v,arguments)}};l=Math.PI;i("../helpers");g=i("jquery");r=i("underscore");m=i("chroma-js");q=i("../geom/point");h=i("../geom/rect");n=i("./graphics");d=i("./mover");j=i("./intersection-mover");p=i("./intersection-builder");b=i("./road-builder");s=i("./highlighter");f=i("./zoomer");o=i("../settings");k=(function(){function u(v){this.world=v;this.draw=c(this.draw,this);this.$canvas=g("#canvas");this.canvas=this.$canvas[0];this.ctx=this.canvas.getContext("2d");this.carImage=new Image();this.carImage.src="images/car.png";this.updateCanvasSize();this.zoomer=new f(4,this,true);this.graphics=new n(this.ctx);this.toolRoadbuilder=new b(this,true);this.toolIntersectionBuilder=new p(this,true);this.toolHighlighter=new s(this,true);this.toolIntersectionMover=new j(this,true);this.toolMover=new d(this,true);this._running=false;this.previousTime=0;this.timeFactor=o.defaultTimeFactor;this.debug=false}u.prototype.drawIntersection=function(x,w){var v;v=x.color||o.colors.intersection;this.graphics.drawRect(x.rect);this.ctx.lineWidth=0.4;this.graphics.stroke(o.colors.roadMarking);return this.graphics.fillRect(x.rect,v,w)};u.prototype.drawSignals=function(A){var v,D,w,B,y,x,C,z;y=[o.colors.redLight,o.colors.greenLight];w=A.target;C=A.targetSide;z=A.targetSideId;B=w.controlSignals.state[z];this.ctx.save();this.ctx.translate(C.center.x,C.center.y);this.ctx.rotate((z+1)*l/2);this.ctx.scale(1*C.length,1*C.length);this.ctx.restore();if(this.debug){this.ctx.save();this.ctx.fillStyle="black";this.ctx.font="1px Arial";v=w.rect.center();D=Math.round(w.controlSignals.flipInterval*100)/100;x=Math.round(w.controlSignals.phaseOffset*100)/100;this.ctx.fillText(D+" "+x,v.x,v.y);return this.ctx.restore()}};u.prototype.drawRoad=function(x,y){var v,w,E,G,B,C,F,z,D,A;if((x.source==null)||(x.target==null)){throw Error("invalid road")
}C=x.sourceSide;F=x.targetSide;this.ctx.save();this.ctx.lineWidth=0.4;E=x.leftmostLane.leftBorder;this.graphics.drawSegment(E);this.graphics.stroke(o.colors.roadMarking);B=x.rightmostLane.rightBorder;this.graphics.drawSegment(B);this.graphics.stroke(o.colors.roadMarking);this.ctx.restore();this.graphics.polyline(C.source,C.target,F.source,F.target);this.graphics.fill(o.colors.road,y);this.ctx.save();A=x.lanes.slice(1);for(z=0,D=A.length;z<D;z++){w=A[z];G=w.rightBorder;v=1;this.graphics.drawSegment(G);this.ctx.lineWidth=0.2;this.ctx.lineDashOffset=1.5*v;this.ctx.setLineDash([v]);this.graphics.stroke(o.colors.roadMarking)}return this.ctx.restore()};u.prototype.drawCar=function(D){var z,x,v,y,A,C,w,B;z=D.direction;v=D.coords;C=new h(0,0,1.1*D.length,1.7*D.width);C.center(new q(0,0));x=new h(0,0,D.length,D.width);x.center(new q(0,0));this.graphics.save();this.ctx.translate(v.x,v.y);this.ctx.rotate(z);A=0.9-0.3*D.speed/D.maxSpeed;w=m(D.color,0.8,A,"hsl").hex();this.graphics.drawImage(this.carImage,x);this.graphics.restore();if(this.debug){this.ctx.save();this.ctx.fillStyle="black";this.ctx.font="1px Arial";this.ctx.fillText(D.id,v.x,v.y);if((y=(B=D.trajectory.temp)!=null?B.lane:void 0)!=null){this.graphics.drawCurve(y,0.1,"red")}return this.ctx.restore()}};u.prototype.drawGrid=function(){var C,v,B,z,E,D,y,A,x,w;v=o.gridSize;C=this.zoomer.getBoundingBox();if(C.area()>=2000*v*v){return}D=0.4;w=[];for(B=y=A=C.left(),x=C.right();v>0?y<=x:y>=x;B=y+=v){w.push((function(){var G,I,H,F;F=[];for(z=G=I=C.top(),H=C.bottom();v>0?G<=H:G>=H;z=G+=v){E=new h(B-D/2,z-D/2,D,D);F.push(this.graphics.fillRect(E,o.colors.gridPoint))}return F}).call(this))}return w};u.prototype.updateCanvasSize=function(){if(this.$canvas.attr("width")!==g(window).width||this.$canvas.attr("height")!==g(window).height){return this.$canvas.attr({width:g(window).width(),height:g(window).height()})}};u.prototype.draw=function(y){var D,E,w,v,A,C,B,z,x;E=(y-this.previousTime)||0;if(E>30){if(E>100){E=100}this.previousTime=y;this.updateCanvasSize();this.graphics.clear(o.colors.background);this.graphics.save();this.zoomer.transform();this.drawGrid();C=this.world.intersections.all();for(w in C){v=C[w];this.drawIntersection(v,0.9)}B=this.world.roads.all();for(w in B){A=B[w];this.drawRoad(A,0.9)}z=this.world.roads.all();for(w in z){A=z[w];this.drawSignals(A)}x=this.world.cars.all();for(w in x){D=x[w];this.drawCar(D)}this.toolIntersectionBuilder.draw();this.toolRoadbuilder.draw();this.toolHighlighter.draw();this.world.onTick(this.timeFactor*E/1000);this.graphics.restore()}if(this.running){return window.requestAnimationFrame(this.draw)}};u.property("running",{get:function(){return this._running},set:function(v){if(v){return this.start()}else{return this.stop()}}});u.prototype.start=function(){if(!this._running){this._running=true;return this.draw()}};u.prototype.stop=function(){return this._running=false};return u})();a.exports=k},{"../geom/point":3,"../geom/rect":4,"../helpers":6,"../settings":16,"./graphics":17,"./highlighter":18,"./intersection-builder":19,"./intersection-mover":20,"./mover":21,"./road-builder":22,"./zoomer":25,"chroma-js":26,"jquery":31,"underscore":32}],25:[function(c,b,h){var k,a,o,m,n,g,d,j=function(p,q){return function(){return p.apply(q,arguments)}},l={}.hasOwnProperty,f=function(s,q){for(var p in q){if(l.call(q,p)){s[p]=q[p]}}function r(){this.constructor=s}r.prototype=q.prototype;s.prototype=new r();s.__super__=q.prototype;return s},i=[].slice;g=Math.min,n=Math.max;c("../helpers.coffee");k=c("../geom/point.coffee");a=c("../geom/rect.coffee");o=c("./tool.coffee");d=c("../settings.coffee");m=(function(q){f(p,q);function p(){var s,r,t;r=arguments[0],t=arguments[1],s=3<=arguments.length?i.call(arguments,2):[];this.defaultZoom=r;this.visualizer=t;this.mousewheel=j(this.mousewheel,this);p.__super__.constructor.apply(this,[this.visualizer].concat(i.call(s)));this.ctx=this.visualizer.ctx;this.canvas=this.ctx.canvas;this._scale=1;this.screenCenter=new k(this.canvas.width/2,this.canvas.height/2);this.center=new k(this.canvas.width/2,this.canvas.height/2)}p.property("scale",{get:function(){return this._scale},set:function(r){return this.zoom(r,this.screenCenter)}});p.prototype.toCellCoords=function(t){var s,u,r,v;u=d.gridSize;s=t.subtract(this.center).divide(this.scale);r=Math.floor(s.x/(this.defaultZoom*u))*u;v=Math.floor(s.y/(this.defaultZoom*u))*u;return new a(r,v,u,u)};p.prototype.getBoundingBox=function(z,y){var s,r,v,t,x,w,u,A;if(z==null){z=this.toCellCoords(new k(0,0))}if(y==null){y=this.toCellCoords(new k(this.canvas.width,this.canvas.height))}s=z.x;x=z.y;r=y.x;w=y.y;t=g(z.left(),y.left());v=n(z.right(),y.right());A=g(z.top(),y.top());u=n(z.bottom(),y.bottom());return new a(t,A,v-t,u-A)};p.prototype.transform=function(){var r;this.ctx.translate(this.center.x,this.center.y);r=this.scale*this.defaultZoom;return this.ctx.scale(r,r)};p.prototype.zoom=function(s,r){var t;if(s==null){s=1}t=this.center.subtract(r);this.center=r.add(t.mult(s/this._scale));
return this._scale=s};p.prototype.moveCenter=function(r){return this.center=this.center.add(r)};p.prototype.mousewheel=function(s){var t,r;t=s.deltaY*s.deltaFactor;r=Math.pow(2,0.001*t);this.zoom(this.scale*r,this.getPoint(s));return s.preventDefault()};return p})(o);b.exports=m},{"../geom/point.coffee":3,"../geom/rect.coffee":4,"../helpers.coffee":6,"../settings.coffee":16,"./tool.coffee":23}],26:[function(b,c,a){(function(){var r,m,y,D,h,g,f,C,M,P,E,H,i,I,o,z,F,Q,j,l,J,n,A,t,p,d,L,v,u,s,N,q,O,w,R,B,k,x,G;P=function(S,U,T,K){return new r(S,U,T,K)};if((typeof c!=="undefined"&&c!==null)&&(c.exports!=null)){c.exports=P}if(typeof define==="function"&&define.amd){define([],function(){return P})}else{w=typeof a!=="undefined"&&a!==null?a:this;w.chroma=P}P.color=function(S,U,T,K){return new r(S,U,T,K)};P.hsl=function(U,T,S,K){return new r(U,T,S,K,"hsl")};P.hsv=function(U,T,S,K){return new r(U,T,S,K,"hsv")};P.rgb=function(U,T,K,S){return new r(U,T,K,S,"rgb")};P.hex=function(K){return new r(K)};P.css=function(K){return new r(K)};P.lab=function(T,S,K){return new r(T,S,K,"lab")};P.lch=function(K,T,S){return new r(K,T,S,"lch")};P.hsi=function(T,S,K){return new r(T,S,K,"hsi")};P.gl=function(U,T,K,S){return new r(U*255,T*255,K*255,S,"gl")};P.interpolate=function(T,S,U,K){if((T==null)||(S==null)){return"#000"}if(R(T)==="string"){T=new r(T)}if(R(S)==="string"){S=new r(S)}return T.interpolate(U,S,K)};P.mix=P.interpolate;P.contrast=function(U,S){var T,K;if(R(U)==="string"){U=new r(U)}if(R(S)==="string"){S=new r(S)}T=U.luminance();K=S.luminance();if(T>K){return(T+0.05)/(K+0.05)}else{return(K+0.05)/(T+0.05)}};P.luminance=function(K){return P(K).luminance()};P._Color=r;r=(function(){function K(){var af,ah,aa,U,ac,Z,ag,ad,ab,X,ae,Y,W,V,T,S;ac=this;aa=[];for(X=0,ae=arguments.length;X<ae;X++){ah=arguments[X];if(ah!=null){aa.push(ah)}}if(aa.length===0){Y=[255,0,255,1,"rgb"],ag=Y[0],ad=Y[1],ab=Y[2],af=Y[3],U=Y[4]}else{if(R(aa[0])==="array"){if(aa[0].length===3){W=aa[0],ag=W[0],ad=W[1],ab=W[2];af=1}else{if(aa[0].length===4){V=aa[0],ag=V[0],ad=V[1],ab=V[2],af=V[3]}else{throw"unknown input argument"}}U=(T=aa[1])!=null?T:"rgb"}else{if(R(aa[0])==="string"){ag=aa[0];U="hex"}else{if(R(aa[0])==="object"){S=aa[0]._rgb,ag=S[0],ad=S[1],ab=S[2],af=S[3];U="rgb"}else{if(aa.length>=3){ag=aa[0];ad=aa[1];ab=aa[2]}}}}}if(aa.length===3){U="rgb";af=1}else{if(aa.length===4){if(R(aa[3])==="string"){U=aa[3];af=1}else{if(R(aa[3])==="number"){U="rgb";af=aa[3]}}}else{if(aa.length===5){af=aa[3];U=aa[4]}}}if(af==null){af=1}if(U==="rgb"){ac._rgb=[ag,ad,ab,af]}else{if(U==="gl"){ac._rgb=[ag*255,ad*255,ab*255,af]}else{if(U==="hsl"){ac._rgb=F(ag,ad,ab);ac._rgb[3]=af}else{if(U==="hsv"){ac._rgb=Q(ag,ad,ab);ac._rgb[3]=af}else{if(U==="hex"){ac._rgb=o(ag)}else{if(U==="lab"){ac._rgb=l(ag,ad,ab);ac._rgb[3]=af}else{if(U==="lch"){ac._rgb=A(ag,ad,ab);ac._rgb[3]=af}else{if(U==="hsi"){ac._rgb=z(ag,ad,ab);ac._rgb[3]=af}}}}}}}}Z=E(ac._rgb)}K.prototype.rgb=function(){return this._rgb.slice(0,3)};K.prototype.rgba=function(){return this._rgb};K.prototype.hex=function(){return L(this._rgb)};K.prototype.toString=function(){return this.name()};K.prototype.hsl=function(){return u(this._rgb)};K.prototype.hsv=function(){return s(this._rgb)};K.prototype.lab=function(){return N(this._rgb)};K.prototype.lch=function(){return q(this._rgb)};K.prototype.hsi=function(){return v(this._rgb)};K.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]};K.prototype.luminance=function(){return p(this._rgb)};K.prototype.name=function(){var T,S;T=this.hex();for(S in P.colors){if(T===P.colors[S]){return S}}return T};K.prototype.alpha=function(S){if(arguments.length){this._rgb[3]=S;return this}return this._rgb[3]};K.prototype.css=function(W){var S,V,T,U;if(W==null){W="rgb"}V=this;T=V._rgb;if(W.length===3&&T[3]<1){W+="a"}if(W==="rgb"){return W+"("+T.slice(0,3).join(",")+")"}else{if(W==="rgba"){return W+"("+T.join(",")+")"}else{if(W==="hsl"||W==="hsla"){S=V.hsl();U=function(X){return Math.round(X*100)/100};S[0]=U(S[0]);S[1]=U(S[1]*100)+"%";S[2]=U(S[2]*100)+"%";if(W.length===4){S[3]=T[3]}return W+"("+S.join(",")+")"}}}};K.prototype.interpolate=function(ab,V,X){var ag,aa,T,S,W,ai,ah,af,ae,U,ad,ac,Z,Y;af=this;if(X==null){X="rgb"}if(R(V)==="string"){V=new K(V)}if(X==="hsl"||X==="hsv"||X==="lch"||X==="hsi"){if(X==="hsl"){Z=af.hsl();Y=V.hsl()}else{if(X==="hsv"){Z=af.hsv();Y=V.hsv()}else{if(X==="hsi"){Z=af.hsi();Y=V.hsi()}else{if(X==="lch"){Z=af.lch();Y=V.lch()}}}}if(X.substr(0,1)==="h"){T=Z[0],ad=Z[1],ai=Z[2];S=Y[0],ac=Y[1],ah=Y[2]}else{ai=Z[0],ad=Z[1],T=Z[2];ah=Y[0],ac=Y[1],S=Y[2]}if(!isNaN(T)&&!isNaN(S)){if(S>T&&S-T>180){ag=S-(T+360)}else{if(S<T&&T-S>180){ag=S+360-T}else{ag=S-T}}aa=T+ab*ag}else{if(!isNaN(T)){aa=T;if((ah===1||ah===0)&&X!=="hsv"){U=ad}}else{if(!isNaN(S)){aa=S;if((ai===1||ai===0)&&X!=="hsv"){U=ac}}else{aa=Number.NaN}}}if(U==null){U=ad+ab*(ac-ad)}W=ai+ab*(ah-ai);if(X.substr(0,1)==="h"){ae=new K(aa,U,W,X)}else{ae=new K(W,U,aa,X)}}else{if(X==="rgb"){Z=af._rgb;Y=V._rgb;
ae=new K(Z[0]+ab*(Y[0]-Z[0]),Z[1]+ab*(Y[1]-Z[1]),Z[2]+ab*(Y[2]-Z[2]),X)}else{if(X==="lab"){Z=af.lab();Y=V.lab();ae=new K(Z[0]+ab*(Y[0]-Z[0]),Z[1]+ab*(Y[1]-Z[1]),Z[2]+ab*(Y[2]-Z[2]),X)}else{throw"color mode "+X+" is not supported"}}}ae.alpha(af.alpha()+ab*(V.alpha()-af.alpha()));return ae};K.prototype.premultiply=function(){var S,T;T=this.rgb();S=this.alpha();return P(T[0]*S,T[1]*S,T[2]*S,S)};K.prototype.darken=function(T){var S,U;if(T==null){T=20}U=this;S=U.lch();S[0]-=T;return P.lch(S).alpha(U.alpha())};K.prototype.darker=function(S){return this.darken(S)};K.prototype.brighten=function(S){if(S==null){S=20}return this.darken(-S)};K.prototype.brighter=function(S){return this.brighten(S)};K.prototype.saturate=function(T){var S,U;if(T==null){T=20}U=this;S=U.lch();S[1]+=T;return P.lch(S).alpha(U.alpha())};K.prototype.desaturate=function(S){if(S==null){S=20}return this.saturate(-S)};return K})();E=function(K){var S;for(S in K){if(S<3){if(K[S]<0){K[S]=0}if(K[S]>255){K[S]=255}}else{if(S===3){if(K[S]<0){K[S]=0}if(K[S]>1){K[S]=1}}}}return K};I=function(X){var Z,W,S,Y,V,U,T,K;X=X.toLowerCase();if((P.colors!=null)&&P.colors[X]){return o(P.colors[X])}if(S=X.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){Y=S.slice(1,4);for(W=V=0;V<=2;W=++V){Y[W]=+Y[W]}Y[3]=1}else{if(S=X.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/)){Y=S.slice(1,5);for(W=U=0;U<=3;W=++U){Y[W]=+Y[W]}}else{if(S=X.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){Y=S.slice(1,4);for(W=T=0;T<=2;W=++T){Y[W]=Math.round(Y[W]*2.55)}Y[3]=1}else{if(S=X.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){Y=S.slice(1,5);for(W=K=0;K<=2;W=++K){Y[W]=Math.round(Y[W]*2.55)}Y[3]=+Y[3]}else{if(S=X.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){Z=S.slice(1,4);Z[1]*=0.01;Z[2]*=0.01;Y=F(Z);Y[3]=1}else{if(S=X.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){Z=S.slice(1,4);Z[1]*=0.01;Z[2]*=0.01;Y=F(Z);Y[3]=+S[4]}}}}}}return Y};o=function(X){var S,K,W,V,U,T;if(X.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)){if(X.length===4||X.length===7){X=X.substr(1)}if(X.length===3){X=X.split("");X=X[0]+X[0]+X[1]+X[1]+X[2]+X[2]}T=parseInt(X,16);V=T>>16;W=T>>8&255;K=T&255;return[V,W,K,1]}if(X.match(/^#?([A-Fa-f0-9]{8})$/)){if(X.length===9){X=X.substr(1)}T=parseInt(X,16);V=T>>24&255;W=T>>16&255;K=T>>8&255;S=T&255;return[V,W,K,S]}if(U=I(X)){return U}throw"unknown color: "+X};z=function(U,T,S){var K,W,V,X;X=B(arguments),U=X[0],T=X[1],S=X[2];U/=360;if(U<1/3){K=(1-T)/3;V=(1+T*i(D*U)/i(y-D*U))/3;W=1-(K+V)}else{if(U<2/3){U-=1/3;V=(1-T)/3;W=(1+T*i(D*U)/i(y-D*U))/3;K=1-(V+W)}else{U-=2/3;W=(1-T)/3;K=(1+T*i(D*U)/i(y-D*U))/3;V=1-(W+K)}}V=t(S*V*3);W=t(S*W*3);K=t(S*K*3);return[V*255,W*255,K*255]};F=function(){var ad,ac,ab,Z,X,S,K,ae,aa,Y,W,U,V,T;V=B(arguments),Z=V[0],ae=V[1],S=V[2];if(ae===0){K=ab=ad=S*255}else{W=[0,0,0];ac=[0,0,0];Y=S<0.5?S*(1+ae):S+ae-S*ae;aa=2*S-Y;Z/=360;W[0]=Z+1/3;W[1]=Z;W[2]=Z-1/3;for(X=U=0;U<=2;X=++U){if(W[X]<0){W[X]+=1}if(W[X]>1){W[X]-=1}if(6*W[X]<1){ac[X]=aa+(Y-aa)*6*W[X]}else{if(2*W[X]<1){ac[X]=Y}else{if(3*W[X]<2){ac[X]=aa+(Y-aa)*((2/3)-W[X])*6}else{ac[X]=aa}}}}T=[Math.round(ac[0]*255),Math.round(ac[1]*255),Math.round(ac[2]*255)],K=T[0],ab=T[1],ad=T[2]}return[K,ab,ad]};Q=function(){var ai,ah,ag,af,ae,ad,ac,ab,aa,Z,Y,X,W,V,U,T,S,K;X=B(arguments),af=X[0],aa=X[1],Y=X[2];Y*=255;if(aa===0){ab=ag=ai=Y}else{if(af===360){af=0}if(af>360){af-=360}if(af<0){af+=360}af/=60;ae=Math.floor(af);ah=af-ae;ad=Y*(1-aa);ac=Y*(1-aa*ah);Z=Y*(1-aa*(1-ah));switch(ae){case 0:W=[Y,Z,ad],ab=W[0],ag=W[1],ai=W[2];break;case 1:V=[ac,Y,ad],ab=V[0],ag=V[1],ai=V[2];break;case 2:U=[ad,Y,Z],ab=U[0],ag=U[1],ai=U[2];break;case 3:T=[ad,ac,Y],ab=T[0],ag=T[1],ai=T[2];break;case 4:S=[Z,ad,Y],ab=S[0],ag=S[1],ai=S[2];break;case 5:K=[Y,ad,ac],ab=K[0],ag=K[1],ai=K[2]}}ab=Math.round(ab);ag=Math.round(ag);ai=Math.round(ai);return[ab,ag,ai]};m=18;h=0.95047;g=1;f=1.08883;j=function(){var T,K,W,U,S,V;V=B(arguments),S=V[0],T=V[1],K=V[2];W=Math.sqrt(T*T+K*K);U=Math.atan2(K,T)/Math.PI*180;return[S,W,U]};l=function(S,Z,Y){var V,K,aa,X,W,U,T;if(S!==void 0&&S.length===3){U=S,S=U[0],Z=U[1],Y=U[2]}if(S!==void 0&&S.length===3){T=S,S=T[0],Z=T[1],Y=T[2]}X=(S+16)/116;aa=X+Z/500;W=X-Y/200;aa=J(aa)*h;X=J(X)*g;W=J(W)*f;K=x(3.2404542*aa-1.5371385*X-0.4985314*W);V=x(-0.969266*aa+1.8760108*X+0.041556*W);Y=x(0.0556434*aa-0.2040259*X+1.0572252*W);return[t(K,0,255),t(V,0,255),t(Y,0,255),1]};J=function(K){if(K>0.206893034){return K*K*K}else{return(K-4/29)/7.787037}};x=function(K){return Math.round(255*(K<=0.00304?12.92*K:1.055*Math.pow(K,1/2.4)-0.055))};n=function(){var U,S,K,T;T=B(arguments),K=T[0],U=T[1],S=T[2];S=S*Math.PI/180;return[K,Math.cos(S)*U,Math.sin(S)*U]};A=function(S,X,V){var Y,aa,Z,W,K,U,T;U=n(S,X,V),Y=U[0],aa=U[1],Z=U[2];T=l(Y,aa,Z),K=T[0],W=T[1],Z=T[2];return[t(K,0,255),t(W,0,255),t(Z,0,255)]
};p=function(T,S,K){var U;U=B(arguments),T=U[0],S=U[1],K=U[2];T=d(T);S=d(S);K=d(K);return 0.2126*T+0.7152*S+0.0722*K};d=function(K){K/=255;if(K<=0.03928){return K/12.92}else{return Math.pow((K+0.055)/1.055,2.4)}};L=function(){var K,U,T,W,S,V;V=B(arguments),T=V[0],U=V[1],K=V[2];S=T<<16|U<<8|K;W="000000"+S.toString(16);return"#"+W.substr(W.length-6)};v=function(){var S,Y,X,W,V,T,K,Z,U;U=B(arguments),K=U[0],X=U[1],Y=U[2];S=Math.PI*2;K/=255;X/=255;Y/=255;T=Math.min(K,X,Y);V=(K+X+Y)/3;Z=1-T/V;if(Z===0){W=0}else{W=((K-X)+(K-Y))/2;W/=Math.sqrt((K-X)*(K-X)+(K-Y)*(X-Y));W=Math.acos(W);if(Y>X){W=S-W}W/=S}return[W*360,Z,V]};u=function(K,W,X){var V,S,Y,T,Z,U;if(K!==void 0&&K.length>=3){U=K,K=U[0],W=U[1],X=U[2]}K/=255;W/=255;X/=255;T=Math.min(K,W,X);Y=Math.max(K,W,X);S=(Y+T)/2;if(Y===T){Z=0;V=Number.NaN}else{Z=S<0.5?(Y-T)/(Y+T):(Y-T)/(2-Y-T)}if(K===Y){V=(W-X)/(Y-T)}else{if(W===Y){V=2+(X-K)/(Y-T)}else{if(X===Y){V=4+(K-W)/(Y-T)}}}V*=60;if(V<0){V+=360}return[V,Z,S]};s=function(){var W,Z,V,U,X,S,K,aa,Y,T;T=B(arguments),K=T[0],V=T[1],W=T[2];S=Math.min(K,V,W);X=Math.max(K,V,W);Z=X-S;Y=X/255;if(X===0){U=Number.NaN;aa=0}else{aa=Z/X;if(K===X){U=(V-W)/Z}if(V===X){U=2+(W-K)/Z}if(W===X){U=4+(K-V)/Z}U*=60;if(U<0){U+=360}}return[U,aa,Y]};N=function(){var S,U,T,K,X,W,V;V=B(arguments),T=V[0],U=V[1],S=V[2];T=O(T);U=O(U);S=O(S);K=k((0.4124564*T+0.3575761*U+0.1804375*S)/h);X=k((0.2126729*T+0.7151522*U+0.072175*S)/g);W=k((0.0193339*T+0.119192*U+0.9503041*S)/f);return[116*X-16,500*(K-X),200*(X-W)]};O=function(K){if((K/=255)<=0.04045){return K/12.92}else{return Math.pow((K+0.055)/1.055,2.4)}};k=function(K){if(K>0.008856){return Math.pow(K,1/3)}else{return 7.787037*K+4/29}};q=function(){var U,S,W,T,V,X,K;X=B(arguments),V=X[0],W=X[1],S=X[2];K=N(V,W,S),T=K[0],U=K[1],S=K[2];return j(T,U,S)};P.scale=function(ab,Z){var ak,ai,an,V,W,S,ae,X,ag,ah,ad,aa,af,am,aj,U,T,K,al,ac,Y;U="rgb";T=P("#ccc");Y=0;af=false;aa=[0,1];ah=[];al=false;ac=[];aj=0;am=1;ad=false;K=0;ag={};S=function(ao,aw){var ax,ap,au,ar,av,at,aq;if(ao==null){ao=["#ddd","#222"]}if((ao!=null)&&R(ao)==="string"&&(((av=P.brewer)!=null?av[ao]:void 0)!=null)){ao=P.brewer[ao]}if(R(ao)==="array"){ao=ao.slice(0);for(ax=au=0,at=ao.length-1;0<=at?au<=at:au>=at;ax=0<=at?++au:--au){ap=ao[ax];if(R(ap)==="string"){ao[ax]=P(ap)}}if(aw!=null){ac=aw}else{ac=[];for(ax=ar=0,aq=ao.length-1;0<=aq?ar<=aq:ar>=aq;ax=0<=aq?++ar:--ar){ac.push(ax/(ao.length-1))}}}W();return ah=ao};ae=function(ao){if(ao==null){ao=[]}aa=ao;aj=ao[0];am=ao[ao.length-1];W();if(ao.length===2){return K=0}else{return K=ao.length-1}};an=function(ap){var ao,aq;if(aa!=null){aq=aa.length-1;ao=0;while(ao<aq&&ap>=aa[ao]){ao++}return ao-1}return 0};X=function(ao){return ao};ak=function(aq){var ap,ar,ao,au,at;at=aq;if(aa.length>2){au=aa.length-1;ap=an(aq);ao=aa[0]+(aa[1]-aa[0])*(0+Y*0.5);ar=aa[au-1]+(aa[au]-aa[au-1])*(1-Y*0.5);at=aj+((aa[ap]+(aa[ap+1]-aa[ap])*0.5-ao)/(ar-ao))*(am-aj)}return at};V=function(ap,ar){var ay,aq,ax,aw,at,ao,az,au,av;if(ar==null){ar=false}if(isNaN(ap)){return T}if(!ar){if(aa.length>2){ay=an(ap);az=ay/(K-1)}else{az=ax=(ap-aj)/(am-aj);az=Math.min(1,Math.max(0,az))}}else{az=ap}if(!ar){az=X(az)}at=Math.floor(az*10000);if(ag[at]){aq=ag[at]}else{if(R(ah)==="array"){for(aw=au=0,av=ac.length-1;0<=av?au<=av:au>=av;aw=0<=av?++au:--au){ao=ac[aw];if(az<=ao){aq=ah[aw];break}if(az>=ao&&aw===ac.length-1){aq=ah[aw];break}if(az>ao&&az<ac[aw+1]){az=(az-ao)/(ac[aw+1]-ao);aq=P.interpolate(ah[aw],ah[aw+1],az,U);break}}}else{if(R(ah)==="function"){aq=ah(az)}}ag[at]=aq}return aq};W=function(){return ag={}};S(ab,Z);ai=function(ao){var ap;ap=V(ao);if(al&&ap[al]){return ap[al]()}else{return ap}};ai.domain=function(aq,ap,at,ao){var ar;if(at==null){at="e"}if(!arguments.length){return aa}if(ap!=null){ar=P.analyze(aq,ao);if(ap===0){aq=[ar.min,ar.max]}else{aq=P.limits(ar,at,ap)}}ae(aq);return ai};ai.mode=function(ao){if(!arguments.length){return U}U=ao;W();return ai};ai.range=function(ap,ao){S(ap,ao);return ai};ai.out=function(ao){al=ao;return ai};ai.spread=function(ao){if(!arguments.length){return Y}Y=ao;return ai};ai.correctLightness=function(ao){if(!arguments.length){return ad}ad=ao;W();if(ad){X=function(az){var at,ar,ax,ay,aw,aq,ap,av,au;at=V(0,true).lab()[0];ar=V(1,true).lab()[0];ap=at>ar;ax=V(az,true).lab()[0];aw=at+(ar-at)*az;ay=ax-aw;av=0;au=1;aq=20;while(Math.abs(ay)>0.01&&aq-->0){(function(){if(ap){ay*=-1}if(ay<0){av=az;az+=(au-az)*0.5}else{au=az;az+=(av-az)*0.5}ax=V(az,true).lab()[0];return ay=ax-aw})()}return az}}else{X=function(ap){return ap}}return ai};ai.colors=function(aq){var ar,ap,av,at,ao,au;if(aq==null){aq="hex"}ab=[];ap=[];if(aa.length>2){for(ar=av=1,au=aa.length;1<=au?av<au:av>au;ar=1<=au?++av:--av){ap.push((aa[ar-1]+aa[ar])*0.5)}}else{ap=aa}for(at=0,ao=ap.length;at<ao;at++){ar=ap[at];ab.push(ai(ar)[aq]())}return ab};return ai};if((G=P.scales)==null){P.scales={}}P.scales.cool=function(){return P.scale([P.hsl(180,1,0.9),P.hsl(250,0.7,0.4)])};P.scales.hot=function(){return P.scale(["#000","#f00","#ff0","#fff"],[0,0.25,0.75,1]).mode("rgb")
};P.analyze=function(W,Z,S){var aa,U,K,T,Y,V,X;K={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};if(S==null){S=function(){return true}}aa=function(ab){if((ab!=null)&&!isNaN(ab)){K.values.push(ab);K.sum+=ab;if(ab<K.min){K.min=ab}if(ab>K.max){K.max=ab}K.count+=1}};Y=function(ac,ab){if(S(ac,ab)){if((Z!=null)&&R(Z)==="function"){return aa(Z(ac))}else{if((Z!=null)&&R(Z)==="string"||R(Z)==="number"){return aa(ac[Z])}else{return aa(ac)}}}};if(R(W)==="array"){for(V=0,X=W.length;V<X;V++){T=W[V];Y(T)}}else{for(U in W){T=W[U];Y(T,U)}}K.domain=[K.min,K.max];K.limits=function(ac,ab){return P.limits(K,ac,ab)};return K};P.limits=function(aS,V,aQ){var ag,aA,ap,ao,S,T,aN,aL,am,al,aj,at,aU,an,ak,aH,ar,K,aE,ai,aa,aq,ah,U,ay,aW,aO,aM,aK,aJ,aI,aG,aF,aD,aC,aB,af,aY,aX,aV,aT,aR,aP,ae,ad,ac,ab,Z,Y,X,W,az,ax,aw,av,au;if(V==null){V="equal"}if(aQ==null){aQ=7}if(aS.values==null){aS=P.analyze(aS)}aU=aS.min;aj=aS.max;ah=aS.sum;aW=aS.values.sort(function(a0,aZ){return a0-aZ});al=[];if(V.substr(0,1)==="c"){al.push(aU);al.push(aj)}if(V.substr(0,1)==="e"){al.push(aU);for(aN=aO=1,af=aQ-1;1<=af?aO<=af:aO>=af;aN=1<=af?++aO:--aO){al.push(aU+(aN/aQ)*(aj-aU))}al.push(aj)}else{if(V.substr(0,1)==="l"){if(aU<=0){throw"Logarithmic scales are only possible for values > 0"}an=Math.LOG10E*Math.log(aU);at=Math.LOG10E*Math.log(aj);al.push(aU);for(aN=aM=1,ae=aQ-1;1<=ae?aM<=ae:aM>=ae;aN=1<=ae?++aM:--aM){al.push(Math.pow(10,an+(aN/aQ)*(at-an)))}al.push(aj)}else{if(V.substr(0,1)==="q"){al.push(aU);for(aN=aK=1,ad=aQ-1;1<=ad?aK<=ad:aK>=ad;aN=1<=ad?++aK:--aK){aE=aW.length*aN/aQ;ai=Math.floor(aE);if(ai===aE){al.push(aW[ai])}else{aa=aE-ai;al.push(aW[ai]*aa+aW[ai+1]*(1-aa))}}al.push(aj)}else{if(V.substr(0,1)==="k"){aH=aW.length;ag=new Array(aH);S=new Array(aQ);aq=true;ar=0;ap=null;ap=[];ap.push(aU);for(aN=aJ=1,ac=aQ-1;1<=ac?aJ<=ac:aJ>=ac;aN=1<=ac?++aJ:--aJ){ap.push(aU+(aN/aQ)*(aj-aU))}ap.push(aj);while(aq){for(aL=aI=0,ab=aQ-1;0<=ab?aI<=ab:aI>=ab;aL=0<=ab?++aI:--aI){S[aL]=0}for(aN=aG=0,Z=aH-1;0<=Z?aG<=Z:aG>=Z;aN=0<=Z?++aG:--aG){ay=aW[aN];ak=Number.MAX_VALUE;for(aL=aF=0,Y=aQ-1;0<=Y?aF<=Y:aF>=Y;aL=0<=Y?++aF:--aF){T=Math.abs(ap[aL]-ay);if(T<ak){ak=T;aA=aL}}S[aA]++;ag[aN]=aA}K=new Array(aQ);for(aL=aD=0,X=aQ-1;0<=X?aD<=X:aD>=X;aL=0<=X?++aD:--aD){K[aL]=null}for(aN=aC=0,W=aH-1;0<=W?aC<=W:aC>=W;aN=0<=W?++aC:--aC){ao=ag[aN];if(K[ao]===null){K[ao]=aW[aN]}else{K[ao]+=aW[aN]}}for(aL=aB=0,aY=aQ-1;0<=aY?aB<=aY:aB>=aY;aL=0<=aY?++aB:--aB){K[aL]*=1/S[aL]}aq=false;for(aL=az=0,aX=aQ-1;0<=aX?az<=aX:az>=aX;aL=0<=aX?++az:--az){if(K[aL]!==ap[aN]){aq=true;break}}ap=K;ar++;if(ar>200){aq=false}}am={};for(aL=ax=0,aV=aQ-1;0<=aV?ax<=aV:ax>=aV;aL=0<=aV?++ax:--ax){am[aL]=[]}for(aN=aw=0,aT=aH-1;0<=aT?aw<=aT:aw>=aT;aN=0<=aT?++aw:--aw){ao=ag[aN];am[ao].push(aW[aN])}U=[];for(aL=av=0,aR=aQ-1;0<=aR?av<=aR:av>=aR;aL=0<=aR?++av:--av){U.push(am[aL][0]);U.push(am[aL][am[aL].length-1])}U=U.sort(function(a0,aZ){return a0-aZ});al.push(U[0]);for(aN=au=1,aP=U.length-1;au<=aP;aN=au+=2){if(!isNaN(U[aN])){al.push(U[aN])}}}}}}return al};P.brewer=M={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};
P.colors=H={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"};R=(function(){var V,T,U,S,K;V={};K="Boolean Number String Function Array Date RegExp Undefined Null".split(" ");for(U=0,S=K.length;U<S;U++){T=K[U];V["[object "+T+"]"]=T.toLowerCase()}return function(X){var W;W=Object.prototype.toString.call(X);return V[W]||"object"}})();t=function(S,T,K){if(T==null){T=0}if(K==null){K=1}if(S<T){S=T}if(S>K){S=K}return S};B=function(K){if(K.length>=3){return K}else{return K[0]}};D=Math.PI*2;y=Math.PI/3;i=Math.cos;C=function(K){var ac,W,V,Z,ab,aa,Y,X,U,T,S;K=(function(){var af,ae,ad;ad=[];for(af=0,ae=K.length;af<ae;af++){Z=K[af];ad.push(P(Z))}return ad})();if(K.length===2){U=(function(){var af,ae,ad;ad=[];for(af=0,ae=K.length;af<ae;af++){Z=K[af];ad.push(Z.lab())}return ad})(),ab=U[0],aa=U[1];ac=function(af){var ae,ad;ad=(function(){var ah,ag;ag=[];for(ae=ah=0;ah<=2;ae=++ah){ag.push(ab[ae]+af*(aa[ae]-ab[ae]))}return ag})();return P.lab.apply(P,ad)}}else{if(K.length===3){T=(function(){var af,ae,ad;ad=[];for(af=0,ae=K.length;af<ae;af++){Z=K[af];ad.push(Z.lab())}return ad})(),ab=T[0],aa=T[1],Y=T[2];ac=function(af){var ae,ad;ad=(function(){var ah,ag;ag=[];for(ae=ah=0;ah<=2;ae=++ah){ag.push((1-af)*(1-af)*ab[ae]+2*(1-af)*af*aa[ae]+af*af*Y[ae])}return ag})();return P.lab.apply(P,ad)}}else{if(K.length===4){S=(function(){var af,ae,ad;ad=[];for(af=0,ae=K.length;af<ae;af++){Z=K[af];ad.push(Z.lab())}return ad})(),ab=S[0],aa=S[1],Y=S[2],X=S[3];ac=function(af){var ae,ad;ad=(function(){var ah,ag;ag=[];for(ae=ah=0;ah<=2;ae=++ah){ag.push((1-af)*(1-af)*(1-af)*ab[ae]+3*(1-af)*(1-af)*af*aa[ae]+3*(1-af)*af*af*Y[ae]+af*af*af*X[ae])}return ag})();return P.lab.apply(P,ad)}}else{if(K.length===5){W=C(K.slice(0,3));V=C(K.slice(2,5));ac=function(ad){if(ad<0.5){return W(ad*2)}else{return V((ad-0.5)*2)}}}}}}return ac};P.interpolate.bezier=C}).call(this)},{}],27:[function(b,c,a){c.exports=b("./vendor/dat.gui");c.exports.color=b("./vendor/dat.color")},{"./vendor/dat.color":28,"./vendor/dat.gui":29}],28:[function(b,c,a){var d=c.exports=d||{};d.color=d.color||{};d.utils=d.utils||{};d.utils.common=(function(){var f=Array.prototype.forEach;
var g=Array.prototype.slice;return{BREAK:{},extend:function(h){this.each(g.call(arguments,1),function(j){for(var i in j){if(!this.isUndefined(j[i])){h[i]=j[i]}}},this);return h},defaults:function(h){this.each(g.call(arguments,1),function(j){for(var i in j){if(this.isUndefined(h[i])){h[i]=j[i]}}},this);return h},compose:function(){var h=g.call(arguments);return function(){var j=g.call(arguments);for(var k=h.length-1;k>=0;k--){j=[h[k].apply(this,j)]}return j[0]}},each:function(m,k,j){if(f&&m.forEach===f){m.forEach(k,j)}else{if(m.length===m.length+0){for(var i=0,h=m.length;i<h;i++){if(i in m&&k.call(j,m[i],i)===this.BREAK){return}}}else{for(var i in m){if(k.call(j,m[i],i)===this.BREAK){return}}}}},defer:function(h){setTimeout(h,0)},toArray:function(h){if(h.toArray){return h.toArray()}return g.call(h)},isUndefined:function(h){return h===undefined},isNull:function(h){return h===null},isNaN:function(h){return h!==h},isArray:Array.isArray||function(h){return h.constructor===Array},isObject:function(h){return h===Object(h)},isNumber:function(h){return h===h+0},isString:function(h){return h===h+""},isBoolean:function(h){return h===false||h===true},isFunction:function(h){return Object.prototype.toString.call(h)==="[object Function]"}}})();d.color.toString=(function(f){return function(g){if(g.a==1||f.isUndefined(g.a)){var h=g.hex.toString(16);while(h.length<6){h="0"+h}return"#"+h}else{return"rgba("+Math.round(g.r)+","+Math.round(g.g)+","+Math.round(g.b)+","+g.a+")"}}})(d.utils.common);d.Color=d.color.Color=(function(g,m,h,l){var f=function(){this.__state=g.apply(this,arguments);if(this.__state===false){throw"Failed to interpret color arguments"}this.__state.a=this.__state.a||1};f.COMPONENTS=["r","g","b","h","s","v","hex","a"];l.extend(f.prototype,{toString:function(){return h(this)},toOriginal:function(){return this.__state.conversion.write(this)}});k(f.prototype,"r",2);k(f.prototype,"g",1);k(f.prototype,"b",0);n(f.prototype,"h");n(f.prototype,"s");n(f.prototype,"v");Object.defineProperty(f.prototype,"a",{get:function(){return this.__state.a},set:function(o){this.__state.a=o}});Object.defineProperty(f.prototype,"hex",{get:function(){if(!this.__state.space!=="HEX"){this.__state.hex=m.rgb_to_hex(this.r,this.g,this.b)}return this.__state.hex},set:function(o){this.__state.space="HEX";this.__state.hex=o}});function k(q,p,o){Object.defineProperty(q,p,{get:function(){if(this.__state.space==="RGB"){return this.__state[p]}j(this,p,o);return this.__state[p]},set:function(r){if(this.__state.space!=="RGB"){j(this,p,o);this.__state.space="RGB"}this.__state[p]=r}})}function n(p,o){Object.defineProperty(p,o,{get:function(){if(this.__state.space==="HSV"){return this.__state[o]}i(this);return this.__state[o]},set:function(q){if(this.__state.space!=="HSV"){i(this);this.__state.space="HSV"}this.__state[o]=q}})}function j(o,q,p){if(o.__state.space==="HEX"){o.__state[q]=m.component_from_hex(o.__state.hex,p)}else{if(o.__state.space==="HSV"){l.extend(o.__state,m.hsv_to_rgb(o.__state.h,o.__state.s,o.__state.v))}else{throw"Corrupted color state"}}}function i(p){var o=m.rgb_to_hsv(p.r,p.g,p.b);l.extend(p.__state,{s:o.s,v:o.v});if(!l.isNaN(o.h)){p.__state.h=o.h}else{if(l.isUndefined(p.__state.h)){p.__state.h=0}}}return f})(d.color.interpret=(function(i,h){var f,k;var g=function(){k=false;var l=arguments.length>1?h.toArray(arguments):arguments[0];h.each(j,function(m){if(m.litmus(l)){h.each(m.conversions,function(o,n){f=o.read(l);if(k===false&&f!==false){k=f;f.conversionName=n;f.conversion=o;return h.BREAK}});return h.BREAK}});return k};var j=[{litmus:h.isString,conversions:{THREE_CHAR_HEX:{read:function(l){var m=l.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);if(m===null){return false}return{space:"HEX",hex:parseInt("0x"+m[1].toString()+m[1].toString()+m[2].toString()+m[2].toString()+m[3].toString()+m[3].toString())}},write:i},SIX_CHAR_HEX:{read:function(l){var m=l.match(/^#([A-F0-9]{6})$/i);if(m===null){return false}return{space:"HEX",hex:parseInt("0x"+m[1].toString())}},write:i},CSS_RGB:{read:function(l){var m=l.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);if(m===null){return false}return{space:"RGB",r:parseFloat(m[1]),g:parseFloat(m[2]),b:parseFloat(m[3])}},write:i},CSS_RGBA:{read:function(l){var m=l.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);if(m===null){return false}return{space:"RGB",r:parseFloat(m[1]),g:parseFloat(m[2]),b:parseFloat(m[3]),a:parseFloat(m[4])}},write:i}}},{litmus:h.isNumber,conversions:{HEX:{read:function(l){return{space:"HEX",hex:l,conversionName:"HEX"}},write:function(l){return l.hex}}}},{litmus:h.isArray,conversions:{RGB_ARRAY:{read:function(l){if(l.length!=3){return false}return{space:"RGB",r:l[0],g:l[1],b:l[2]}},write:function(l){return[l.r,l.g,l.b]}},RGBA_ARRAY:{read:function(l){if(l.length!=4){return false}return{space:"RGB",r:l[0],g:l[1],b:l[2],a:l[3]}},write:function(l){return[l.r,l.g,l.b,l.a]}}}},{litmus:h.isObject,conversions:{RGBA_OBJ:{read:function(l){if(h.isNumber(l.r)&&h.isNumber(l.g)&&h.isNumber(l.b)&&h.isNumber(l.a)){return{space:"RGB",r:l.r,g:l.g,b:l.b,a:l.a}
}return false},write:function(l){return{r:l.r,g:l.g,b:l.b,a:l.a}}},RGB_OBJ:{read:function(l){if(h.isNumber(l.r)&&h.isNumber(l.g)&&h.isNumber(l.b)){return{space:"RGB",r:l.r,g:l.g,b:l.b}}return false},write:function(l){return{r:l.r,g:l.g,b:l.b}}},HSVA_OBJ:{read:function(l){if(h.isNumber(l.h)&&h.isNumber(l.s)&&h.isNumber(l.v)&&h.isNumber(l.a)){return{space:"HSV",h:l.h,s:l.s,v:l.v,a:l.a}}return false},write:function(l){return{h:l.h,s:l.s,v:l.v,a:l.a}}},HSV_OBJ:{read:function(l){if(h.isNumber(l.h)&&h.isNumber(l.s)&&h.isNumber(l.v)){return{space:"HSV",h:l.h,s:l.s,v:l.v}}return false},write:function(l){return{h:l.h,s:l.s,v:l.v}}}}}];return g})(d.color.toString,d.utils.common),d.color.math=(function(){var f;return{hsv_to_rgb:function(k,r,n){var j=Math.floor(k/60)%6;var l=k/60-Math.floor(k/60);var i=n*(1-r);var g=n*(1-(l*r));var o=n*(1-((1-l)*r));var m=[[n,o,i],[g,n,i],[i,n,o],[i,g,n],[o,i,n],[n,i,g]][j];return{r:m[0]*255,g:m[1]*255,b:m[2]*255}},rgb_to_hsv:function(o,n,j){var k=Math.min(o,n,j),i=Math.max(o,n,j),p=i-k,m,l;if(i!=0){l=p/i}else{return{h:NaN,s:0,v:0}}if(o==i){m=(n-j)/p}else{if(n==i){m=2+(j-o)/p}else{m=4+(o-n)/p}}m/=6;if(m<0){m+=1}return{h:m*360,s:l,v:i/255}},rgb_to_hex:function(k,j,h){var i=this.hex_with_component(0,2,k);i=this.hex_with_component(i,1,j);i=this.hex_with_component(i,0,h);return i},component_from_hex:function(h,g){return(h>>(g*8))&255},hex_with_component:function(h,g,i){return i<<(f=g*8)|(h&~(255<<f))}}})(),d.color.toString,d.utils.common)},{}],29:[function(b,c,a){var d=c.exports=d||{};d.gui=d.gui||{};d.utils=d.utils||{};d.controllers=d.controllers||{};d.dom=d.dom||{};d.color=d.color||{};d.utils.css=(function(){return{load:function(f,h){h=h||document;var g=h.createElement("link");g.type="text/css";g.rel="stylesheet";g.href=f;h.getElementsByTagName("head")[0].appendChild(g)},inject:function(g,h){h=h||document;var f=document.createElement("style");f.type="text/css";f.innerHTML=g;h.getElementsByTagName("head")[0].appendChild(f)}}})();d.utils.common=(function(){var f=Array.prototype.forEach;var g=Array.prototype.slice;return{BREAK:{},extend:function(h){this.each(g.call(arguments,1),function(j){for(var i in j){if(!this.isUndefined(j[i])){h[i]=j[i]}}},this);return h},defaults:function(h){this.each(g.call(arguments,1),function(j){for(var i in j){if(this.isUndefined(h[i])){h[i]=j[i]}}},this);return h},compose:function(){var h=g.call(arguments);return function(){var j=g.call(arguments);for(var k=h.length-1;k>=0;k--){j=[h[k].apply(this,j)]}return j[0]}},each:function(m,k,j){if(f&&m.forEach===f){m.forEach(k,j)}else{if(m.length===m.length+0){for(var i=0,h=m.length;i<h;i++){if(i in m&&k.call(j,m[i],i)===this.BREAK){return}}}else{for(var i in m){if(k.call(j,m[i],i)===this.BREAK){return}}}}},defer:function(h){setTimeout(h,0)},toArray:function(h){if(h.toArray){return h.toArray()}return g.call(h)},isUndefined:function(h){return h===undefined},isNull:function(h){return h===null},isNaN:function(h){return h!==h},isArray:Array.isArray||function(h){return h.constructor===Array},isObject:function(h){return h===Object(h)},isNumber:function(h){return h===h+0},isString:function(h){return h===h+""},isBoolean:function(h){return h===false||h===true},isFunction:function(h){return Object.prototype.toString.call(h)==="[object Function]"}}})();d.controllers.Controller=(function(f){var g=function(h,i){this.initialValue=h[i];this.domElement=document.createElement("div");this.object=h;this.property=i;this.__onChange=undefined;this.__onFinishChange=undefined};f.extend(g.prototype,{onChange:function(h){this.__onChange=h;return this},onFinishChange:function(h){this.__onFinishChange=h;return this},setValue:function(h){this.object[this.property]=h;if(this.__onChange){this.__onChange.call(this,h)}this.updateDisplay();return this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return g})(d.utils.common);d.dom.dom=(function(g){var k={"HTMLEvents":["change"],"MouseEvents":["click","mousemove","mousedown","mouseup","mouseover"],"KeyboardEvents":["keydown"]};var j={};g.each(k,function(m,l){g.each(m,function(n){j[n]=l})});var f=/(\d+(\.\d+)?)px/;function h(m){if(m==="0"||g.isUndefined(m)){return 0}var l=m.match(f);if(!g.isNull(l)){return parseFloat(l[1])}return 0}var i={makeSelectable:function(m,l){if(m===undefined||m.style===undefined){return}m.onselectstart=l?function(){return false}:function(){};m.style.MozUserSelect=l?"auto":"none";m.style.KhtmlUserSelect=l?"auto":"none";m.unselectable=l?"on":"off"},makeFullscreen:function(n,l,m){if(g.isUndefined(l)){l=true}if(g.isUndefined(m)){m=true}n.style.position="absolute";if(l){n.style.left=0;n.style.right=0}if(m){n.style.top=0;n.style.bottom=0}},fakeEvent:function(p,n,q,o){q=q||{};var r=j[n];if(!r){throw new Error("Event type "+n+" not supported.")}var s=document.createEvent(r);switch(r){case"MouseEvents":var m=q.x||q.clientX||0;var l=q.y||q.clientY||0;s.initMouseEvent(n,q.bubbles||false,q.cancelable||true,window,q.clickCount||1,0,0,m,l,false,false,false,false,0,null);
break;case"KeyboardEvents":var t=s.initKeyboardEvent||s.initKeyEvent;g.defaults(q,{cancelable:true,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:undefined,charCode:undefined});t(n,q.bubbles||false,q.cancelable,window,q.ctrlKey,q.altKey,q.shiftKey,q.metaKey,q.keyCode,q.charCode);break;default:s.initEvent(n,q.bubbles||false,q.cancelable||true);break}g.defaults(s,o);p.dispatchEvent(s)},bind:function(o,n,m,l){l=l||false;if(o.addEventListener){o.addEventListener(n,m,l)}else{if(o.attachEvent){o.attachEvent("on"+n,m)}}return i},unbind:function(o,n,m,l){l=l||false;if(o.removeEventListener){o.removeEventListener(n,m,l)}else{if(o.detachEvent){o.detachEvent("on"+n,m)}}return i},addClass:function(n,m){if(n.className===undefined){n.className=m}else{if(n.className!==m){var l=n.className.split(/ +/);if(l.indexOf(m)==-1){l.push(m);n.className=l.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")}}}return i},removeClass:function(o,n){if(n){if(o.className===undefined){}else{if(o.className===n){o.removeAttribute("class")}else{var m=o.className.split(/ +/);var l=m.indexOf(n);if(l!=-1){m.splice(l,1);o.className=m.join(" ")}}}}else{o.className=undefined}return i},hasClass:function(m,l){return new RegExp("(?:^|\\s+)"+l+"(?:\\s+|$)").test(m.className)||false},getWidth:function(m){var l=getComputedStyle(m);return h(l["border-left-width"])+h(l["border-right-width"])+h(l["padding-left"])+h(l["padding-right"])+h(l["width"])},getHeight:function(m){var l=getComputedStyle(m);return h(l["border-top-width"])+h(l["border-bottom-width"])+h(l["padding-top"])+h(l["padding-bottom"])+h(l["height"])},getOffset:function(l){var m={left:0,top:0};if(l.offsetParent){do{m.left+=l.offsetLeft;m.top+=l.offsetTop}while(l=l.offsetParent)}return m},isActive:function(l){return l===document.activeElement&&(l.type||l.href)}};return i})(d.utils.common);d.controllers.OptionController=(function(h,i,f){var g=function(k,l,j){g.superclass.call(this,k,l);var n=this;this.__select=document.createElement("select");if(f.isArray(j)){var m={};f.each(j,function(o){m[o]=o});j=m}f.each(j,function(q,p){var o=document.createElement("option");o.innerHTML=p;o.setAttribute("value",q);n.__select.appendChild(o)});this.updateDisplay();i.bind(this.__select,"change",function(){var o=this.options[this.selectedIndex].value;n.setValue(o)});this.domElement.appendChild(this.__select)};g.superclass=h;f.extend(g.prototype,h.prototype,{setValue:function(j){var k=g.superclass.prototype.setValue.call(this,j);if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}return k},updateDisplay:function(){this.__select.value=this.getValue();return g.superclass.prototype.updateDisplay.call(this)}});return g})(d.controllers.Controller,d.dom.dom,d.utils.common);d.controllers.NumberController=(function(i,g){var h=function(j,k,l){h.superclass.call(this,j,k);l=l||{};this.__min=l.min;this.__max=l.max;this.__step=l.step;if(g.isUndefined(this.__step)){if(this.initialValue==0){this.__impliedStep=1}else{this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10}}else{this.__impliedStep=this.__step}this.__precision=f(this.__impliedStep)};h.superclass=i;g.extend(h.prototype,i.prototype,{setValue:function(j){if(this.__min!==undefined&&j<this.__min){j=this.__min}else{if(this.__max!==undefined&&j>this.__max){j=this.__max}}if(this.__step!==undefined&&j%this.__step!=0){j=Math.round(j/this.__step)*this.__step}return h.superclass.prototype.setValue.call(this,j)},min:function(j){this.__min=j;return this},max:function(j){this.__max=j;return this},step:function(j){this.__step=j;return this}});function f(j){j=j.toString();if(j.indexOf(".")>-1){return j.length-j.indexOf(".")-1}else{return 0}}return h})(d.controllers.Controller,d.utils.common);d.controllers.NumberControllerBox=(function(i,j,h){var g=function(m,t,l){this.__truncationSuspended=false;g.superclass.call(this,m,t,l);var q=this;var o;this.__input=document.createElement("input");this.__input.setAttribute("type","text");j.bind(this.__input,"change",r);j.bind(this.__input,"blur",k);j.bind(this.__input,"mousedown",s);j.bind(this.__input,"keydown",function(u){if(u.keyCode===13){q.__truncationSuspended=true;this.blur();q.__truncationSuspended=false}});function r(){var u=parseFloat(q.__input.value);if(!h.isNaN(u)){q.setValue(u)}}function k(){r();if(q.__onFinishChange){q.__onFinishChange.call(q,q.getValue())}}function s(u){j.bind(window,"mousemove",n);j.bind(window,"mouseup",p);o=u.clientY}function n(v){var u=o-v.clientY;q.setValue(q.getValue()+u*q.__impliedStep);o=v.clientY}function p(){j.unbind(window,"mousemove",n);j.unbind(window,"mouseup",p)}this.updateDisplay();this.domElement.appendChild(this.__input)};g.superclass=i;h.extend(g.prototype,i.prototype,{updateDisplay:function(){this.__input.value=this.__truncationSuspended?this.getValue():f(this.getValue(),this.__precision);return g.superclass.prototype.updateDisplay.call(this)}});function f(l,k){var m=Math.pow(10,k);return Math.round(l*m)/m}return g})(d.controllers.NumberController,d.dom.dom,d.utils.common);
d.controllers.NumberControllerSlider=(function(i,k,f,g,l){var h=function(n,u,o,s,m){h.superclass.call(this,n,u,{min:o,max:s,step:m});var r=this;this.__background=document.createElement("div");this.__foreground=document.createElement("div");k.bind(this.__background,"mousedown",t);k.addClass(this.__background,"slider");k.addClass(this.__foreground,"slider-fg");function t(v){k.bind(window,"mousemove",p);k.bind(window,"mouseup",q);p(v)}function p(w){w.preventDefault();var x=k.getOffset(r.__background);var v=k.getWidth(r.__background);r.setValue(j(w.clientX,x.left,x.left+v,r.__min,r.__max));return false}function q(){k.unbind(window,"mousemove",p);k.unbind(window,"mouseup",q);if(r.__onFinishChange){r.__onFinishChange.call(r,r.getValue())}}this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};h.superclass=i;h.useDefaultStyles=function(){f.inject(l)};g.extend(h.prototype,i.prototype,{updateDisplay:function(){var m=(this.getValue()-this.__min)/(this.__max-this.__min);this.__foreground.style.width=m*100+"%";return h.superclass.prototype.updateDisplay.call(this)}});function j(m,p,n,q,o){return q+(o-q)*((m-p)/(n-p))}return h})(d.controllers.NumberController,d.dom.dom,d.utils.css,d.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}");d.controllers.FunctionController=(function(g,h,f){var i=function(j,k,l){i.superclass.call(this,j,k);var m=this;this.__button=document.createElement("div");this.__button.innerHTML=l===undefined?"Fire":l;h.bind(this.__button,"click",function(n){n.preventDefault();m.fire();return false});h.addClass(this.__button,"button");this.domElement.appendChild(this.__button)};i.superclass=g;f.extend(i.prototype,g.prototype,{fire:function(){if(this.__onChange){this.__onChange.call(this)}if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}this.getValue().call(this.object)}});return i})(d.controllers.Controller,d.dom.dom,d.utils.common);d.controllers.BooleanController=(function(h,i,f){var g=function(k,l){g.superclass.call(this,k,l);var m=this;this.__prev=this.getValue();this.__checkbox=document.createElement("input");this.__checkbox.setAttribute("type","checkbox");i.bind(this.__checkbox,"change",j,false);this.domElement.appendChild(this.__checkbox);this.updateDisplay();function j(){m.setValue(!m.__prev)}};g.superclass=h;f.extend(g.prototype,h.prototype,{setValue:function(j){var k=g.superclass.prototype.setValue.call(this,j);if(this.__onFinishChange){this.__onFinishChange.call(this,this.getValue())}this.__prev=this.getValue();return k},updateDisplay:function(){if(this.getValue()===true){this.__checkbox.setAttribute("checked","checked");this.__checkbox.checked=true}else{this.__checkbox.checked=false}return g.superclass.prototype.updateDisplay.call(this)}});return g})(d.controllers.Controller,d.dom.dom,d.utils.common);d.color.toString=(function(f){return function(g){if(g.a==1||f.isUndefined(g.a)){var h=g.hex.toString(16);while(h.length<6){h="0"+h}return"#"+h}else{return"rgba("+Math.round(g.r)+","+Math.round(g.g)+","+Math.round(g.b)+","+g.a+")"}}})(d.utils.common);d.color.interpret=(function(i,h){var f,k;var g=function(){k=false;var l=arguments.length>1?h.toArray(arguments):arguments[0];h.each(j,function(m){if(m.litmus(l)){h.each(m.conversions,function(o,n){f=o.read(l);if(k===false&&f!==false){k=f;f.conversionName=n;f.conversion=o;return h.BREAK}});return h.BREAK}});return k};var j=[{litmus:h.isString,conversions:{THREE_CHAR_HEX:{read:function(l){var m=l.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);if(m===null){return false}return{space:"HEX",hex:parseInt("0x"+m[1].toString()+m[1].toString()+m[2].toString()+m[2].toString()+m[3].toString()+m[3].toString())}},write:i},SIX_CHAR_HEX:{read:function(l){var m=l.match(/^#([A-F0-9]{6})$/i);if(m===null){return false}return{space:"HEX",hex:parseInt("0x"+m[1].toString())}},write:i},CSS_RGB:{read:function(l){var m=l.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);if(m===null){return false}return{space:"RGB",r:parseFloat(m[1]),g:parseFloat(m[2]),b:parseFloat(m[3])}},write:i},CSS_RGBA:{read:function(l){var m=l.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);if(m===null){return false}return{space:"RGB",r:parseFloat(m[1]),g:parseFloat(m[2]),b:parseFloat(m[3]),a:parseFloat(m[4])}},write:i}}},{litmus:h.isNumber,conversions:{HEX:{read:function(l){return{space:"HEX",hex:l,conversionName:"HEX"}},write:function(l){return l.hex}}}},{litmus:h.isArray,conversions:{RGB_ARRAY:{read:function(l){if(l.length!=3){return false
}return{space:"RGB",r:l[0],g:l[1],b:l[2]}},write:function(l){return[l.r,l.g,l.b]}},RGBA_ARRAY:{read:function(l){if(l.length!=4){return false}return{space:"RGB",r:l[0],g:l[1],b:l[2],a:l[3]}},write:function(l){return[l.r,l.g,l.b,l.a]}}}},{litmus:h.isObject,conversions:{RGBA_OBJ:{read:function(l){if(h.isNumber(l.r)&&h.isNumber(l.g)&&h.isNumber(l.b)&&h.isNumber(l.a)){return{space:"RGB",r:l.r,g:l.g,b:l.b,a:l.a}}return false},write:function(l){return{r:l.r,g:l.g,b:l.b,a:l.a}}},RGB_OBJ:{read:function(l){if(h.isNumber(l.r)&&h.isNumber(l.g)&&h.isNumber(l.b)){return{space:"RGB",r:l.r,g:l.g,b:l.b}}return false},write:function(l){return{r:l.r,g:l.g,b:l.b}}},HSVA_OBJ:{read:function(l){if(h.isNumber(l.h)&&h.isNumber(l.s)&&h.isNumber(l.v)&&h.isNumber(l.a)){return{space:"HSV",h:l.h,s:l.s,v:l.v,a:l.a}}return false},write:function(l){return{h:l.h,s:l.s,v:l.v,a:l.a}}},HSV_OBJ:{read:function(l){if(h.isNumber(l.h)&&h.isNumber(l.s)&&h.isNumber(l.v)){return{space:"HSV",h:l.h,s:l.s,v:l.v}}return false},write:function(l){return{h:l.h,s:l.s,v:l.v}}}}}];return g})(d.color.toString,d.utils.common);d.GUI=d.gui.GUI=(function(J,L,n,m,k,D,t,w,Q,F,y,q,o,h,x){J.inject(n);var G="dg";var E=72;var p=20;var g="Default";var f=(function(){try{return"localStorage" in window&&window["localStorage"]!==null}catch(S){return false}})();var B;var R=true;var u;var M=false;var I=[];var l=function(W){var X=this;this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);h.addClass(this.domElement,G);this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];W=W||{};W=x.defaults(W,{autoPlace:true,width:l.DEFAULT_WIDTH});W=x.defaults(W,{resizable:W.autoPlace,hideable:W.autoPlace});if(!x.isUndefined(W.load)){if(W.preset){W.load.preset=W.preset}}else{W.load={preset:g}}if(x.isUndefined(W.parent)&&W.hideable){I.push(this)}W.resizable=x.isUndefined(W.parent)&&W.resizable;if(W.autoPlace&&x.isUndefined(W.scrollable)){W.scrollable=true}var Z=f&&localStorage.getItem(v(this,"isLocal"))==="true";Object.defineProperties(this,{parent:{get:function(){return W.parent}},scrollable:{get:function(){return W.scrollable}},autoPlace:{get:function(){return W.autoPlace}},preset:{get:function(){if(X.parent){return X.getRoot().preset}else{return W.load.preset}},set:function(ac){if(X.parent){X.getRoot().preset=ac}else{W.load.preset=ac}z(this);X.revert()}},width:{get:function(){return W.width},set:function(ac){W.width=ac;N(X,ac)}},name:{get:function(){return W.name},set:function(ac){W.name=ac;if(T){T.innerHTML=W.name}}},closed:{get:function(){return W.closed},set:function(ac){W.closed=ac;if(W.closed){h.addClass(X.__ul,l.CLASS_CLOSED)}else{h.removeClass(X.__ul,l.CLASS_CLOSED)}this.onResize();if(X.__closeButton){X.__closeButton.innerHTML=ac?l.TEXT_OPEN:l.TEXT_CLOSED}}},load:{get:function(){return W.load}},useLocalStorage:{get:function(){return Z},set:function(ac){if(f){Z=ac;if(ac){h.bind(window,"unload",V)}else{h.unbind(window,"unload",V)}localStorage.setItem(v(X,"isLocal"),ac)}}}});if(x.isUndefined(W.parent)){W.closed=false;h.addClass(this.domElement,l.CLASS_MAIN);h.makeSelectable(this.domElement,false);if(f){if(Z){X.useLocalStorage=true;var S=localStorage.getItem(v(this,"gui"));if(S){W.load=JSON.parse(S)}}}this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=l.TEXT_CLOSED;h.addClass(this.__closeButton,l.CLASS_CLOSE_BUTTON);this.domElement.appendChild(this.__closeButton);h.bind(this.__closeButton,"click",function(){X.closed=!X.closed})}else{if(W.closed===undefined){W.closed=true}var T=document.createTextNode(W.name);h.addClass(T,"controller-name");var aa=H(X,T);var ab=function(ac){ac.preventDefault();X.closed=!X.closed;return false};h.addClass(this.__ul,l.CLASS_CLOSED);h.addClass(aa,"title");h.bind(aa,"click",ab);if(!W.closed){this.closed=false}}if(W.autoPlace){if(x.isUndefined(W.parent)){if(R){u=document.createElement("div");h.addClass(u,G);h.addClass(u,l.CLASS_AUTO_PLACE_CONTAINER);document.body.appendChild(u);R=false}u.appendChild(this.domElement);h.addClass(this.domElement,l.CLASS_AUTO_PLACE)}if(!this.parent){N(X,W.width)}}h.bind(window,"resize",function(){X.onResize()});h.bind(this.__ul,"webkitTransitionEnd",function(){X.onResize()});h.bind(this.__ul,"transitionend",function(){X.onResize()});h.bind(this.__ul,"oTransitionEnd",function(){X.onResize()});this.onResize();if(W.resizable){P(this)}function V(){localStorage.setItem(v(X,"gui"),JSON.stringify(X.getSaveObject()))}var Y=X.getRoot();function U(){var ac=X.getRoot();ac.width+=1;x.defer(function(){ac.width-=1})}if(!W.parent){U()}};l.toggleHide=function(){M=!M;x.each(I,function(S){S.domElement.style.zIndex=M?-999:999;S.domElement.style.opacity=M?0:1})};l.CLASS_AUTO_PLACE="a";l.CLASS_AUTO_PLACE_CONTAINER="ac";l.CLASS_MAIN="main";l.CLASS_CONTROLLER_ROW="cr";l.CLASS_TOO_TALL="taller-than-window";l.CLASS_CLOSED="closed";l.CLASS_CLOSE_BUTTON="close-button";l.CLASS_DRAG="drag";
l.DEFAULT_WIDTH=245;l.TEXT_CLOSED="Close Controls";l.TEXT_OPEN="Open Controls";h.bind(window,"keydown",function(S){if(document.activeElement.type!=="text"&&(S.which===E||S.keyCode==E)){l.toggleHide()}},false);x.extend(l.prototype,{add:function(S,T){return i(this,S,T,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(S,T){return i(this,S,T,{color:true})},remove:function(S){this.__ul.removeChild(S.__li);this.__controllers.slice(this.__controllers.indexOf(S),1);var T=this;x.defer(function(){T.onResize()})},destroy:function(){if(this.autoPlace){u.removeChild(this.domElement)}},addFolder:function(U){if(this.__folders[U]!==undefined){throw new Error("You already have a folder in this GUI by the"+' name "'+U+'"')}var V={name:U,parent:this};V.autoPlace=this.autoPlace;if(this.load&&this.load.folders&&this.load.folders[U]){V.closed=this.load.folders[U].closed;V.load=this.load.folders[U]}var T=new l(V);this.__folders[U]=T;var S=H(this,T.domElement);h.addClass(S,"folder");return T},open:function(){this.closed=false},close:function(){this.closed=true},onResize:function(){var S=this.getRoot();if(S.scrollable){var U=h.getOffset(S.__ul).top;var T=0;x.each(S.__ul.childNodes,function(V){if(!(S.autoPlace&&V===S.__save_row)){T+=h.getHeight(V)}});if(window.innerHeight-U-p<T){h.addClass(S.domElement,l.CLASS_TOO_TALL);S.__ul.style.height=window.innerHeight-U-p+"px"}else{h.removeClass(S.domElement,l.CLASS_TOO_TALL);S.__ul.style.height="auto"}}if(S.__resize_handle){x.defer(function(){S.__resize_handle.style.height=S.__ul.offsetHeight+"px"})}if(S.__closeButton){S.__closeButton.style.width=S.width+"px"}},remember:function(){if(x.isUndefined(B)){B=new o();B.domElement.innerHTML=L}if(this.parent){throw new Error("You can only call remember on a top level GUI.")}var S=this;x.each(Array.prototype.slice.call(arguments),function(T){if(S.__rememberedObjects.length==0){A(S)}if(S.__rememberedObjects.indexOf(T)==-1){S.__rememberedObjects.push(T)}});if(this.autoPlace){N(this,this.width)}},getRoot:function(){var S=this;while(S.parent){S=S.parent}return S},getSaveObject:function(){var S=this.load;S.closed=this.closed;if(this.__rememberedObjects.length>0){S.preset=this.preset;if(!S.remembered){S.remembered={}}S.remembered[this.preset]=K(this)}S.folders={};x.each(this.__folders,function(U,T){S.folders[T]=U.getSaveObject()});return S},save:function(){if(!this.load.remembered){this.load.remembered={}}this.load.remembered[this.preset]=K(this);s(this,false)},saveAs:function(S){if(!this.load.remembered){this.load.remembered={};this.load.remembered[g]=K(this,true)}this.load.remembered[S]=K(this);this.preset=S;C(this,S,true)},revert:function(S){x.each(this.__controllers,function(T){if(!this.getRoot().load.remembered){T.setValue(T.initialValue)}else{j(S||this.getRoot(),T)}},this);x.each(this.__folders,function(T){T.revert(T)});if(!S){s(this.getRoot(),false)}},listen:function(S){var T=this.__listening.length==0;this.__listening.push(S);if(T){O(this.__listening)}}});function i(U,W,Z,V){if(W[Z]===undefined){throw new Error("Object "+W+' has no property "'+Z+'"')}var X;if(V.color){X=new y(W,Z)}else{var aa=[W,Z].concat(V.factoryArgs);X=m.apply(U,aa)}if(V.before instanceof k){V.before=V.before.__li}j(U,X);h.addClass(X.domElement,"c");var S=document.createElement("span");h.addClass(S,"property-name");S.innerHTML=X.property;var T=document.createElement("div");T.appendChild(S);T.appendChild(X.domElement);var Y=H(U,T,V.before);h.addClass(Y,l.CLASS_CONTROLLER_ROW);h.addClass(Y,typeof X.getValue());r(U,Y,X);U.__controllers.push(X);return X}function H(T,V,U){var S=document.createElement("li");if(V){S.appendChild(V)}if(U){T.__ul.insertBefore(S,params.before)}else{T.__ul.appendChild(S)}T.onResize();return S}function r(U,S,T){T.__li=S;T.__gui=U;x.extend(T,{options:function(X){if(arguments.length>1){T.remove();return i(U,T.object,T.property,{before:T.__li.nextElementSibling,factoryArgs:[x.toArray(arguments)]})}if(x.isArray(X)||x.isObject(X)){T.remove();return i(U,T.object,T.property,{before:T.__li.nextElementSibling,factoryArgs:[X]})}},name:function(X){T.__li.firstElementChild.firstElementChild.innerHTML=X;return T},listen:function(){T.__gui.listen(T);return T},remove:function(){T.__gui.remove(T);return T}});if(T instanceof Q){var W=new w(T.object,T.property,{min:T.__min,max:T.__max,step:T.__step});x.each(["updateDisplay","onChange","onFinishChange"],function(Z){var X=T[Z];var Y=W[Z];T[Z]=W[Z]=function(){var aa=Array.prototype.slice.call(arguments);X.apply(T,aa);return Y.apply(W,aa)}});h.addClass(S,"has-slider");T.domElement.insertBefore(W.domElement,T.domElement.firstElementChild)}else{if(T instanceof w){var V=function(X){if(x.isNumber(T.__min)&&x.isNumber(T.__max)){T.remove();return i(U,T.object,T.property,{before:T.__li.nextElementSibling,factoryArgs:[T.__min,T.__max,T.__step]})}return X};T.min=x.compose(V,T.min);T.max=x.compose(V,T.max)}else{if(T instanceof D){h.bind(S,"click",function(){h.fakeEvent(T.__checkbox,"click")});h.bind(T.__checkbox,"click",function(X){X.stopPropagation()
})}else{if(T instanceof t){h.bind(S,"click",function(){h.fakeEvent(T.__button,"click")});h.bind(S,"mouseover",function(){h.addClass(T.__button,"hover")});h.bind(S,"mouseout",function(){h.removeClass(T.__button,"hover")})}else{if(T instanceof y){h.addClass(S,"color");T.updateDisplay=x.compose(function(X){S.style.borderLeftColor=T.__color.toString();return X},T.updateDisplay);T.updateDisplay()}}}}}T.setValue=x.compose(function(X){if(U.getRoot().__preset_select&&T.isModified()){s(U.getRoot(),true)}return X},T.setValue)}function j(U,T){var S=U.getRoot();var Z=S.__rememberedObjects.indexOf(T.object);if(Z!=-1){var W=S.__rememberedObjectIndecesToControllers[Z];if(W===undefined){W={};S.__rememberedObjectIndecesToControllers[Z]=W}W[T.property]=T;if(S.load&&S.load.remembered){var V=S.load.remembered;var X;if(V[U.preset]){X=V[U.preset]}else{if(V[g]){X=V[g]}else{return}}if(X[Z]&&X[Z][T.property]!==undefined){var Y=X[Z][T.property];T.initialValue=Y;T.setValue(Y)}}}}function v(S,T){return document.location.href+"."+T}function A(V){var S=V.__save_row=document.createElement("li");h.addClass(V.domElement,"has-save");V.__ul.insertBefore(S,V.__ul.firstChild);h.addClass(S,"save-row");var U=document.createElement("span");U.innerHTML="&nbsp;";h.addClass(U,"button gears");var W=document.createElement("span");W.innerHTML="Save";h.addClass(W,"button");h.addClass(W,"save");var Z=document.createElement("span");Z.innerHTML="New";h.addClass(Z,"button");h.addClass(Z,"save-as");var X=document.createElement("span");X.innerHTML="Revert";h.addClass(X,"button");h.addClass(X,"revert");var ad=V.__preset_select=document.createElement("select");if(V.load&&V.load.remembered){x.each(V.load.remembered,function(af,ae){C(V,ae,ae==V.preset)})}else{C(V,g,false)}h.bind(ad,"change",function(){for(var ae=0;ae<V.__preset_select.length;ae++){V.__preset_select[ae].innerHTML=V.__preset_select[ae].value}V.preset=this.value});S.appendChild(ad);S.appendChild(U);S.appendChild(W);S.appendChild(Z);S.appendChild(X);if(f){var ac=document.getElementById("dg-save-locally");var Y=document.getElementById("dg-local-explain");ac.style.display="block";var aa=document.getElementById("dg-local-storage");if(localStorage.getItem(v(V,"isLocal"))==="true"){aa.setAttribute("checked","checked")}function T(){Y.style.display=V.useLocalStorage?"block":"none"}T();h.bind(aa,"change",function(){V.useLocalStorage=!V.useLocalStorage;T()})}var ab=document.getElementById("dg-new-constructor");h.bind(ab,"keydown",function(ae){if(ae.metaKey&&(ae.which===67||ae.keyCode==67)){B.hide()}});h.bind(U,"click",function(){ab.innerHTML=JSON.stringify(V.getSaveObject(),undefined,2);B.show();ab.focus();ab.select()});h.bind(W,"click",function(){V.save()});h.bind(Z,"click",function(){var ae=prompt("Enter a new preset name.");if(ae){V.saveAs(ae)}});h.bind(X,"click",function(){V.revert()})}function P(U){U.__resize_handle=document.createElement("div");x.extend(U.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var T;h.bind(U.__resize_handle,"mousedown",S);h.bind(U.__closeButton,"mousedown",S);U.domElement.insertBefore(U.__resize_handle,U.domElement.firstElementChild);function S(X){X.preventDefault();T=X.clientX;h.addClass(U.__closeButton,l.CLASS_DRAG);h.bind(window,"mousemove",W);h.bind(window,"mouseup",V);return false}function W(X){X.preventDefault();U.width+=T-X.clientX;U.onResize();T=X.clientX;return false}function V(){h.removeClass(U.__closeButton,l.CLASS_DRAG);h.unbind(window,"mousemove",W);h.unbind(window,"mouseup",V)}}function N(T,S){T.domElement.style.width=S+"px";if(T.__save_row&&T.autoPlace){T.__save_row.style.width=S+"px"}if(T.__closeButton){T.__closeButton.style.width=S+"px"}}function K(S,T){var U={};x.each(S.__rememberedObjects,function(Y,W){var V={};var X=S.__rememberedObjectIndecesToControllers[W];x.each(X,function(Z,aa){V[aa]=T?Z.initialValue:Z.getValue()});U[W]=V});return U}function C(S,T,V){var U=document.createElement("option");U.innerHTML=T;U.value=T;S.__preset_select.appendChild(U);if(V){S.__preset_select.selectedIndex=S.__preset_select.length-1}}function z(S){for(var T=0;T<S.__preset_select.length;T++){if(S.__preset_select[T].value==S.preset){S.__preset_select.selectedIndex=T}}}function s(S,T){var U=S.__preset_select[S.__preset_select.selectedIndex];if(T){U.innerHTML=U.value+"*"}else{U.innerHTML=U.value}}function O(S){if(S.length!=0){q(function(){O(S)})}x.each(S,function(T){T.updateDisplay()})}return l})(d.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",d.controllers.factory=(function(j,h,i,f,l,k,g){return function(n,o){var m=n[o];
if(g.isArray(arguments[2])||g.isObject(arguments[2])){return new j(n,o,arguments[2])}if(g.isNumber(m)){if(g.isNumber(arguments[2])&&g.isNumber(arguments[3])){return new i(n,o,arguments[2],arguments[3])}else{return new h(n,o,{min:arguments[2],max:arguments[3]})}}if(g.isString(m)){return new f(n,o)}if(g.isFunction(m)){return new l(n,o,"")}if(g.isBoolean(m)){return new k(n,o)}}})(d.controllers.OptionController,d.controllers.NumberControllerBox,d.controllers.NumberControllerSlider,d.controllers.StringController=(function(h,i,g){var f=function(k,m){f.superclass.call(this,k,m);var n=this;this.__input=document.createElement("input");this.__input.setAttribute("type","text");i.bind(this.__input,"keyup",j);i.bind(this.__input,"change",j);i.bind(this.__input,"blur",l);i.bind(this.__input,"keydown",function(o){if(o.keyCode===13){this.blur()}});function j(){n.setValue(n.__input.value)}function l(){if(n.__onFinishChange){n.__onFinishChange.call(n,n.getValue())}}this.updateDisplay();this.domElement.appendChild(this.__input)};f.superclass=h;g.extend(f.prototype,h.prototype,{updateDisplay:function(){if(!i.isActive(this.__input)){this.__input.value=this.getValue()}return f.superclass.prototype.updateDisplay.call(this)}});return f})(d.controllers.Controller,d.dom.dom,d.utils.common),d.controllers.FunctionController,d.controllers.BooleanController,d.utils.common),d.controllers.Controller,d.controllers.BooleanController,d.controllers.FunctionController,d.controllers.NumberControllerBox,d.controllers.NumberControllerSlider,d.controllers.OptionController,d.controllers.ColorController=(function(h,i,f,g,k){var j=function(r,w){j.superclass.call(this,r,w);this.__color=new f(this.getValue());this.__temp=new f(0);var u=this;this.domElement=document.createElement("div");i.makeSelectable(this.domElement,false);this.__selector=document.createElement("div");this.__selector.className="selector";this.__saturation_field=document.createElement("div");this.__saturation_field.className="saturation-field";this.__field_knob=document.createElement("div");this.__field_knob.className="field-knob";this.__field_knob_border="2px solid ";this.__hue_knob=document.createElement("div");this.__hue_knob.className="hue-knob";this.__hue_field=document.createElement("div");this.__hue_field.className="hue-field";this.__input=document.createElement("input");this.__input.type="text";this.__input_textShadow="0 1px 1px ";i.bind(this.__input,"keydown",function(y){if(y.keyCode===13){o.call(this)}});i.bind(this.__input,"blur",o);i.bind(this.__selector,"mousedown",function(y){i.addClass(this,"drag").bind(window,"mouseup",function(z){i.removeClass(u.__selector,"drag")})});var s=document.createElement("div");k.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});k.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<0.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});k.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});k.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"});k.extend(s.style,{width:"100%",height:"100%",background:"none"});l(s,"top","rgba(0,0,0,0)","#000");k.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"});n(this.__hue_field);k.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"});i.bind(this.__saturation_field,"mousedown",v);i.bind(this.__field_knob,"mousedown",v);i.bind(this.__hue_field,"mousedown",function(y){t(y);i.bind(window,"mousemove",t);i.bind(window,"mouseup",p)});function v(y){q(y);i.bind(window,"mousemove",q);i.bind(window,"mouseup",x)}function x(){i.unbind(window,"mousemove",q);i.unbind(window,"mouseup",x)}function o(){var y=g(this.value);if(y!==false){u.__color.__state=y;u.setValue(u.__color.toOriginal())}else{this.value=u.__color.toString()}}function p(){i.unbind(window,"mousemove",t);i.unbind(window,"mouseup",p)}this.__saturation_field.appendChild(s);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay();function q(B){B.preventDefault();var y=i.getWidth(u.__saturation_field);var C=i.getOffset(u.__saturation_field);var A=(B.clientX-C.left+document.body.scrollLeft)/y;var z=1-(B.clientY-C.top+document.body.scrollTop)/y;if(z>1){z=1}else{if(z<0){z=0}}if(A>1){A=1}else{if(A<0){A=0}}u.__color.v=z;u.__color.s=A;u.setValue(u.__color.toOriginal());return false}function t(A){A.preventDefault();
var z=i.getHeight(u.__hue_field);var B=i.getOffset(u.__hue_field);var y=1-(A.clientY-B.top+document.body.scrollTop)/z;if(y>1){y=1}else{if(y<0){y=0}}u.__color.h=y*360;u.setValue(u.__color.toOriginal());return false}};j.superclass=h;k.extend(j.prototype,h.prototype,{updateDisplay:function(){var p=g(this.getValue());if(p!==false){var o=false;k.each(f.COMPONENTS,function(s){if(!k.isUndefined(p[s])&&!k.isUndefined(this.__color.__state[s])&&p[s]!==this.__color.__state[s]){o=true;return{}}},this);if(o){k.extend(this.__color.__state,p)}}k.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var r=(this.__color.v<0.5||this.__color.s>0.5)?255:0;var q=255-r;k.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"});this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px";this.__temp.s=1;this.__temp.v=1;l(this.__saturation_field,"left","#fff",this.__temp.toString());k.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+q+","+q+","+q+",.7)"})}});var m=["-moz-","-o-","-webkit-","-ms-",""];function l(r,p,q,o){r.style.background="";k.each(m,function(s){r.style.cssText+="background: "+s+"linear-gradient("+p+", "+q+" 0%, "+o+" 100%); "})}function n(o){o.style.background="";o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}return j})(d.controllers.Controller,d.dom.dom,d.color.Color=(function(g,m,h,l){var f=function(){this.__state=g.apply(this,arguments);if(this.__state===false){throw"Failed to interpret color arguments"}this.__state.a=this.__state.a||1};f.COMPONENTS=["r","g","b","h","s","v","hex","a"];l.extend(f.prototype,{toString:function(){return h(this)},toOriginal:function(){return this.__state.conversion.write(this)}});k(f.prototype,"r",2);k(f.prototype,"g",1);k(f.prototype,"b",0);n(f.prototype,"h");n(f.prototype,"s");n(f.prototype,"v");Object.defineProperty(f.prototype,"a",{get:function(){return this.__state.a},set:function(o){this.__state.a=o}});Object.defineProperty(f.prototype,"hex",{get:function(){if(!this.__state.space!=="HEX"){this.__state.hex=m.rgb_to_hex(this.r,this.g,this.b)}return this.__state.hex},set:function(o){this.__state.space="HEX";this.__state.hex=o}});function k(q,p,o){Object.defineProperty(q,p,{get:function(){if(this.__state.space==="RGB"){return this.__state[p]}j(this,p,o);return this.__state[p]},set:function(r){if(this.__state.space!=="RGB"){j(this,p,o);this.__state.space="RGB"}this.__state[p]=r}})}function n(p,o){Object.defineProperty(p,o,{get:function(){if(this.__state.space==="HSV"){return this.__state[o]}i(this);return this.__state[o]},set:function(q){if(this.__state.space!=="HSV"){i(this);this.__state.space="HSV"}this.__state[o]=q}})}function j(o,q,p){if(o.__state.space==="HEX"){o.__state[q]=m.component_from_hex(o.__state.hex,p)}else{if(o.__state.space==="HSV"){l.extend(o.__state,m.hsv_to_rgb(o.__state.h,o.__state.s,o.__state.v))}else{throw"Corrupted color state"}}}function i(p){var o=m.rgb_to_hsv(p.r,p.g,p.b);l.extend(p.__state,{s:o.s,v:o.v});if(!l.isNaN(o.h)){p.__state.h=o.h}else{if(l.isUndefined(p.__state.h)){p.__state.h=0}}}return f})(d.color.interpret,d.color.math=(function(){var f;return{hsv_to_rgb:function(k,r,n){var j=Math.floor(k/60)%6;var l=k/60-Math.floor(k/60);var i=n*(1-r);var g=n*(1-(l*r));var o=n*(1-((1-l)*r));var m=[[n,o,i],[g,n,i],[i,n,o],[i,g,n],[o,i,n],[n,i,g]][j];return{r:m[0]*255,g:m[1]*255,b:m[2]*255}},rgb_to_hsv:function(o,n,j){var k=Math.min(o,n,j),i=Math.max(o,n,j),p=i-k,m,l;if(i!=0){l=p/i}else{return{h:NaN,s:0,v:0}}if(o==i){m=(n-j)/p}else{if(n==i){m=2+(j-o)/p}else{m=4+(o-n)/p}}m/=6;if(m<0){m+=1}return{h:m*360,s:l,v:i/255}},rgb_to_hex:function(k,j,h){var i=this.hex_with_component(0,2,k);i=this.hex_with_component(i,1,j);i=this.hex_with_component(i,0,h);return i},component_from_hex:function(h,g){return(h>>(g*8))&255},hex_with_component:function(h,g,i){return i<<(f=g*8)|(h&~(255<<f))}}})(),d.color.toString,d.utils.common),d.color.interpret,d.utils.common),d.utils.requestAnimationFrame=(function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(g,f){window.setTimeout(g,1000/60)
}})(),d.dom.CenteredDiv=(function(i,h){var g=function(){this.backgroundElement=document.createElement("div");h.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"});i.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");h.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var j=this;i.bind(this.backgroundElement,"click",function(){j.hide()})};g.prototype.show=function(){var j=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();h.defer(function(){j.backgroundElement.style.opacity=1;j.domElement.style.opacity=1;j.domElement.style.webkitTransform="scale(1)"})};g.prototype.hide=function(){var k=this;var j=function(){k.domElement.style.display="none";k.backgroundElement.style.display="none";i.unbind(k.domElement,"webkitTransitionEnd",j);i.unbind(k.domElement,"transitionend",j);i.unbind(k.domElement,"oTransitionEnd",j)};i.bind(this.domElement,"webkitTransitionEnd",j);i.bind(this.domElement,"transitionend",j);i.bind(this.domElement,"oTransitionEnd",j);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};g.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-i.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-i.getHeight(this.domElement)/2+"px"};function f(j){console.log(j)}return g})(d.dom.dom,d.utils.common),d.dom.dom,d.utils.common)},{}],30:[function(b,c,a){
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.12
 *
 * Requires: jQuery 1.2.2+
 */
(function(d){if(typeof define==="function"&&define.amd){define(["jquery"],d)}else{if(typeof a==="object"){c.exports=d}else{d(jQuery)}}}(function(g){var h=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],m=Array.prototype.slice,n,f;if(g.event.fixHooks){for(var j=h.length;j;){g.event.fixHooks[h[--j]]=g.event.mouseHooks}}var k=g.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var q=o.length;q;){this.addEventListener(o[--q],p,false)}}else{this.onmousewheel=p}g.data(this,"mousewheel-line-height",k.getLineHeight(this));g.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var q=o.length;q;){this.removeEventListener(o[--q],p,false)}}else{this.onmousewheel=null}g.removeData(this,"mousewheel-line-height");g.removeData(this,"mousewheel-page-height")},getLineHeight:function(q){var i=g(q),r=i["offsetParent" in g.fn?"offsetParent":"parent"]();if(!r.length){r=g("body")}return parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(i){return g(i).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};g.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function p(i){var s=i||window.event,y=m.call(arguments,1),A=0,u=0,t=0,x=0,w=0,v=0;i=g.event.fix(s);i.type="mousewheel";if("detail" in s){t=s.detail*-1}if("wheelDelta" in s){t=s.wheelDelta}if("wheelDeltaY" in s){t=s.wheelDeltaY}if("wheelDeltaX" in s){u=s.wheelDeltaX*-1}if("axis" in s&&s.axis===s.HORIZONTAL_AXIS){u=t*-1;t=0}A=t===0?u:t;if("deltaY" in s){t=s.deltaY*-1;A=t}if("deltaX" in s){u=s.deltaX;if(t===0){A=u*-1}}if(t===0&&u===0){return}if(s.deltaMode===1){var z=g.data(this,"mousewheel-line-height");A*=z;t*=z;u*=z}else{if(s.deltaMode===2){var r=g.data(this,"mousewheel-page-height");A*=r;t*=r;u*=r}}x=Math.max(Math.abs(t),Math.abs(u));if(!f||x<f){f=x;if(d(s,x)){f/=40}}if(d(s,x)){A/=40;u/=40;t/=40}A=Math[A>=1?"floor":"ceil"](A/f);u=Math[u>=1?"floor":"ceil"](u/f);t=Math[t>=1?"floor":"ceil"](t/f);if(k.settings.normalizeOffset&&this.getBoundingClientRect){var q=this.getBoundingClientRect();w=i.clientX-q.left;v=i.clientY-q.top}i.deltaX=u;i.deltaY=t;i.deltaFactor=f;i.offsetX=w;i.offsetY=v;i.deltaMode=0;y.unshift(i,A,u,t);if(n){clearTimeout(n)}n=setTimeout(l,200);return(g.event.dispatch||g.event.handle).apply(this,y)}function l(){f=null}function d(q,i){return k.settings.adjustOldDeltas&&q.type==="mousewheel"&&i%120===0}}))},{}],31:[function(require,module,exports){
/*!
 * jQuery JavaScript Library v2.1.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-18T15:11Z
 */
(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")
}return factory(w)}}else{factory(global)}}(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var document=window.document,version="2.1.3",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?(num<0?this[num+this.length]:this[num]):slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){return !jQuery.isArray(obj)&&(obj-parseFloat(obj)+1)>=0},isPlainObject:function(obj){if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}return true},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;
if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1) in obj}var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return -1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];nodeType=context.nodeType;if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed&&documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else{if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else{if((m=match[3])&&support.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));
return results}}}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType!==1&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return(cache[key+" "]=value)}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return !!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while((cur=cur.nextSibling)){if(cur===b){return -1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;parent=doc.defaultView;if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else{if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}}documentIsHTML=!isXML(doc);support.attributes=assert(function(div){div.className="i";return !div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return !div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return !doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else{if(support.qsa){return context.querySelectorAll(tag)}}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(doc.querySelectorAll))){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")
}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return -1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}else{if(aup===bup){return siblingCheck(a,b)}}cur=a;while((cur=cur.parentNode)){ap.unshift(cur)}cur=b;while((cur=cur.parentNode)){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node)}}else{if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd")}else{if(match[3]){Sizzle.error(match[0])
}}return match},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else{if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}}return match.slice(0,3)}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return !!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return !results.pop()}}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},"root":function(elem){return elem===docElem},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)
},"enabled":function(elem){return elem.disabled===false},"disabled":function(elem){return elem.disabled===true},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},"parent":function(elem){return !Expr.pseudos["empty"](elem)},"header":function(elem){return rheader.test(elem.nodeName)},"input":function(elem){return rinputs.test(elem.nodeName)},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},"first":createPositionalPseudo(function(){return[0]}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1]}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in {radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in {submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push((tokens=[]))}matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2])}else{outerCache[dir]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;
if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}postFinder(null,(matcherOut=[]),temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while((matcher=elementMatchers[j++])){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if((elem=!matcher&&elem)){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else{if(compiled){context=context.parentNode}}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;
support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>=0)!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return !!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else{if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched},sibling:function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched}});jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;
for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.unique(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=(/\S+/g);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else{if(memory){list=[]}else{self.disable()}}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else{if(arg&&arg.length&&type!=="string"){add(arg)}}})})(arguments);if(firing){firingLength=list.length}else{if(memory){firingStart=start;fire(memory)}}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return !list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return !stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise
}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else{if(!(--remaining)){deferred.resolveWith(contexts,values)}}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}}return readyList.promise(obj)};jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else{if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType)};function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.accepts=jQuery.acceptData;Data.prototype={key:function(owner){if(!Data.accepts(owner)){return 0}var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock};Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock;jQuery.extend(owner,descriptor)}}if(!this.cache[unlock]){this.cache[unlock]={}}return unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if(typeof data==="string"){cache[data]=value}else{if(jQuery.isEmptyObject(cache)){jQuery.extend(this.cache[unlock],data)}else{for(prop in data){cache[prop]=data[prop]}}}return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){var stored;if(key===undefined||((key&&typeof key==="string")&&value===undefined)){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined){this.cache[unlock]={}}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:(name.match(rnotwhite)||[])}}i=name.length;while(i--){delete cache[name[i]]}}},hasData:function(owner){return !jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){if(owner[this.expando]){delete this.cache[owner[this.expando]]}}};var data_priv=new Data();var data_user=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;
function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=data_user.get(elem);if(elem.nodeType===1&&!data_priv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}data_priv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){data_user.set(this,key)})}return access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&value===undefined){data=data_user.get(elem,key);if(data!==undefined){return data}data=data_user.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value);if(key.indexOf("-")!==-1&&data!==undefined){data_user.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=data_priv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=data_priv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=data_priv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var rcheckableType=(/^(?:checkbox|radio)$/i);(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin" in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;
handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;data_priv.remove(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};
args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!==this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;
this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);data_priv.remove(doc,fix)}else{data_priv.access(doc,fix,attaches)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return this}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(data_priv.hasData(src)){pdataOld=data_priv.access(src);pdataCur=data_priv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(data_user.hasData(src)){udataOld=data_user.access(src);udataCur=jQuery.extend({},udataOld);data_user.set(dest,udataCur)}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();
if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},buildFragment:function(elems,context,scripts,selection){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else{if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}}fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment},cleanData:function(elems){var data,elem,type,key,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(jQuery.acceptData(elem)){key=elem[data_priv.expando];if(key&&(data=data_priv.cache[key])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(data_priv.cache[key]){delete data_priv.cache[key]}}}delete data_user.cache[elem[data_user.expando]]}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,true)},domManip:function(args,callback){args=concat.apply([],args);
var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=(/^margin/);var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){if(elem.ownerDocument.defaultView.opener){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)}return window.getComputedStyle(elem,null)};function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name]}if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;"+"position:absolute";container.appendChild(div);function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";div.innerHTML="";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}if(window.getComputedStyle){jQuery.extend(support,{pixelPosition:function(){computePixelPositionAndBoxSizingReliable();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computePixelPositionAndBoxSizingReliable()}return boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.removeChild(marginDiv);return ret}})}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};
for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=data_priv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||value!==value){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)
}}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return !result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else{if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return(fxNow=jQuery.now())}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()
}})})}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden" in dataShow){hidden=dataShow.hidden}}else{dataShow=data_priv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else{if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)
}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||data_priv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else{if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;
elem.setAttribute("type",value);if(val){elem.value=val}return value}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){return hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem[name]=value)}else{return hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=arguments.length===0||typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else{if(type===strundefined||type==="boolean"){if(this.className){data_priv.set(this,"__className__",this.className)}this.className=this.className||value===false?"":data_priv.get(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");
return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if((option.selected=jQuery.inArray(option.value,values)>=0)){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=(/\?/);jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else{if(seekingTransport){return !(selected=dataTypeOrTransport)}}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();
if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else{if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else{if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(rquery.test(cacheURL)?"&":"?")+s.data);delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);
for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else{if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");
return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest()}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();if(window.attachEvent){window.attachEvent("onunload",function(){for(var key in xhrCallbacks){xhrCallbacks[key]()}})}support.cors=!!xhrSupported&&("withCredentials" in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){delete xhrCallbacks[id];callback=xhr.onload=xhr.onerror=null;if(type==="abort"){xhr.abort()}else{if(type==="error"){complete(xhr.status,xhr.statusText)}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,typeof xhr.responseText==="string"?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders())}}}}};xhr.onload=callback();xhr.onerror=callback("error");callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:true,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else{if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(params&&typeof params==="object"){type="POST"
}}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:window.pageXOffset,top?val:window.pageYOffset)}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery}))},{}],32:[function(b,c,a){(function(){var A=this;
var o=A._;var H={};var G=Array.prototype,j=Object.prototype,v=Function.prototype;var L=G.push,s=G.slice,C=G.concat,h=j.toString,n=j.hasOwnProperty;var P=G.forEach,u=G.map,I=G.reduce,g=G.reduceRight,f=G.filter,F=G.every,t=G.some,r=G.indexOf,p=G.lastIndexOf,y=Array.isArray,i=Object.keys,J=v.bind;var Q=function(R){if(R instanceof Q){return R}if(!(this instanceof Q)){return new Q(R)}this._wrapped=R};if(typeof a!=="undefined"){if(typeof c!=="undefined"&&c.exports){a=c.exports=Q}a._=Q}else{A._=Q}Q.VERSION="1.6.0";var M=Q.each=Q.forEach=function(W,T,S){if(W==null){return W}if(P&&W.forEach===P){W.forEach(T,S)}else{if(W.length===+W.length){for(var R=0,V=W.length;R<V;R++){if(T.call(S,W[R],R,W)===H){return}}}else{var U=Q.keys(W);for(var R=0,V=U.length;R<V;R++){if(T.call(S,W[U[R]],U[R],W)===H){return}}}}return W};Q.map=Q.collect=function(U,T,S){var R=[];if(U==null){return R}if(u&&U.map===u){return U.map(T,S)}M(U,function(X,V,W){R.push(T.call(S,X,V,W))});return R};var k="Reduce of empty array with no initial value";Q.reduce=Q.foldl=Q.inject=function(V,U,R,T){var S=arguments.length>2;if(V==null){V=[]}if(I&&V.reduce===I){if(T){U=Q.bind(U,T)}return S?V.reduce(U,R):V.reduce(U)}M(V,function(Y,W,X){if(!S){R=Y;S=true}else{R=U.call(T,R,Y,W,X)}});if(!S){throw new TypeError(k)}return R};Q.reduceRight=Q.foldr=function(X,U,R,T){var S=arguments.length>2;if(X==null){X=[]}if(g&&X.reduceRight===g){if(T){U=Q.bind(U,T)}return S?X.reduceRight(U,R):X.reduceRight(U)}var W=X.length;if(W!==+W){var V=Q.keys(X);W=V.length}M(X,function(aa,Y,Z){Y=V?V[--W]:--W;if(!S){R=X[Y];S=true}else{R=U.call(T,R,X[Y],Y,Z)}});if(!S){throw new TypeError(k)}return R};Q.find=Q.detect=function(U,S,T){var R;E(U,function(X,V,W){if(S.call(T,X,V,W)){R=X;return true}});return R};Q.filter=Q.select=function(U,R,T){var S=[];if(U==null){return S}if(f&&U.filter===f){return U.filter(R,T)}M(U,function(X,V,W){if(R.call(T,X,V,W)){S.push(X)}});return S};Q.reject=function(T,R,S){return Q.filter(T,function(W,U,V){return !R.call(S,W,U,V)},S)};Q.every=Q.all=function(U,S,T){S||(S=Q.identity);var R=true;if(U==null){return R}if(F&&U.every===F){return U.every(S,T)}M(U,function(X,V,W){if(!(R=R&&S.call(T,X,V,W))){return H}});return !!R};var E=Q.some=Q.any=function(U,S,T){S||(S=Q.identity);var R=false;if(U==null){return R}if(t&&U.some===t){return U.some(S,T)}M(U,function(X,V,W){if(R||(R=S.call(T,X,V,W))){return H}});return !!R};Q.contains=Q.include=function(S,R){if(S==null){return false}if(r&&S.indexOf===r){return S.indexOf(R)!=-1}return E(S,function(T){return T===R})};Q.invoke=function(T,U){var R=s.call(arguments,2);var S=Q.isFunction(U);return Q.map(T,function(V){return(S?U:V[U]).apply(V,R)})};Q.pluck=function(S,R){return Q.map(S,Q.property(R))};Q.where=function(S,R){return Q.filter(S,Q.matches(R))};Q.findWhere=function(S,R){return Q.find(S,Q.matches(R))};Q.max=function(V,T,S){if(!T&&Q.isArray(V)&&V[0]===+V[0]&&V.length<65535){return Math.max.apply(Math,V)}var R=-Infinity,U=-Infinity;M(V,function(Z,W,Y){var X=T?T.call(S,Z,W,Y):Z;if(X>U){R=Z;U=X}});return R};Q.min=function(V,T,S){if(!T&&Q.isArray(V)&&V[0]===+V[0]&&V.length<65535){return Math.min.apply(Math,V)}var R=Infinity,U=Infinity;M(V,function(Z,W,Y){var X=T?T.call(S,Z,W,Y):Z;if(X<U){R=Z;U=X}});return R};Q.shuffle=function(U){var T;var S=0;var R=[];M(U,function(V){T=Q.random(S++);R[S-1]=R[T];R[T]=V});return R};Q.sample=function(S,T,R){if(T==null||R){if(S.length!==+S.length){S=Q.values(S)}return S[Q.random(S.length-1)]}return Q.shuffle(S).slice(0,Math.max(0,T))};var d=function(R){if(R==null){return Q.identity}if(Q.isFunction(R)){return R}return Q.property(R)};Q.sortBy=function(T,S,R){S=d(S);return Q.pluck(Q.map(T,function(W,U,V){return{value:W,index:U,criteria:S.call(R,W,U,V)}}).sort(function(X,W){var V=X.criteria;var U=W.criteria;if(V!==U){if(V>U||V===void 0){return 1}if(V<U||U===void 0){return -1}}return X.index-W.index}),"value")};var x=function(R){return function(V,U,T){var S={};U=d(U);M(V,function(Y,W){var X=U.call(T,Y,W,V);R(S,X,Y)});return S}};Q.groupBy=x(function(R,S,T){Q.has(R,S)?R[S].push(T):R[S]=[T]});Q.indexBy=x(function(R,S,T){R[S]=T});Q.countBy=x(function(R,S){Q.has(R,S)?R[S]++:R[S]=1});Q.sortedIndex=function(Y,X,U,T){U=d(U);var W=U.call(T,X);var R=0,V=Y.length;while(R<V){var S=(R+V)>>>1;U.call(T,Y[S])<W?R=S+1:V=S}return R};Q.toArray=function(R){if(!R){return[]}if(Q.isArray(R)){return s.call(R)}if(R.length===+R.length){return Q.map(R,Q.identity)}return Q.values(R)};Q.size=function(R){if(R==null){return 0}return(R.length===+R.length)?R.length:Q.keys(R).length};Q.first=Q.head=Q.take=function(T,S,R){if(T==null){return void 0}if((S==null)||R){return T[0]}if(S<0){return[]}return s.call(T,0,S)};Q.initial=function(T,S,R){return s.call(T,0,T.length-((S==null)||R?1:S))};Q.last=function(T,S,R){if(T==null){return void 0}if((S==null)||R){return T[T.length-1]}return s.call(T,Math.max(T.length-S,0))};Q.rest=Q.tail=Q.drop=function(T,S,R){return s.call(T,(S==null)||R?1:S)};Q.compact=function(R){return Q.filter(R,Q.identity)};var B=function(S,T,R){if(T&&Q.every(S,Q.isArray)){return C.apply(R,S)
}M(S,function(U){if(Q.isArray(U)||Q.isArguments(U)){T?L.apply(R,U):B(U,T,R)}else{R.push(U)}});return R};Q.flatten=function(S,R){return B(S,R,[])};Q.without=function(R){return Q.difference(R,s.call(arguments,1))};Q.partition=function(U,R){var T=[],S=[];M(U,function(V){(R(V)?T:S).push(V)});return[T,S]};Q.uniq=Q.unique=function(X,W,V,U){if(Q.isFunction(W)){U=V;V=W;W=false}var S=V?Q.map(X,V,U):X;var T=[];var R=[];M(S,function(Z,Y){if(W?(!Y||R[R.length-1]!==Z):!Q.contains(R,Z)){R.push(Z);T.push(X[Y])}});return T};Q.union=function(){return Q.uniq(Q.flatten(arguments,true))};Q.intersection=function(S){var R=s.call(arguments,1);return Q.filter(Q.uniq(S),function(T){return Q.every(R,function(U){return Q.contains(U,T)})})};Q.difference=function(S){var R=C.apply(G,s.call(arguments,1));return Q.filter(S,function(T){return !Q.contains(R,T)})};Q.zip=function(){var T=Q.max(Q.pluck(arguments,"length").concat(0));var S=new Array(T);for(var R=0;R<T;R++){S[R]=Q.pluck(arguments,""+R)}return S};Q.object=function(V,S){if(V==null){return{}}var R={};for(var T=0,U=V.length;T<U;T++){if(S){R[V[T]]=S[T]}else{R[V[T][0]]=V[T][1]}}return R};Q.indexOf=function(V,T,U){if(V==null){return -1}var R=0,S=V.length;if(U){if(typeof U=="number"){R=(U<0?Math.max(0,S+U):U)}else{R=Q.sortedIndex(V,T);return V[R]===T?R:-1}}if(r&&V.indexOf===r){return V.indexOf(T,U)}for(;R<S;R++){if(V[R]===T){return R}}return -1};Q.lastIndexOf=function(V,T,U){if(V==null){return -1}var R=U!=null;if(p&&V.lastIndexOf===p){return R?V.lastIndexOf(T,U):V.lastIndexOf(T)}var S=(R?U:V.length);while(S--){if(V[S]===T){return S}}return -1};Q.range=function(W,T,V){if(arguments.length<=1){T=W||0;W=0}V=arguments[2]||1;var U=Math.max(Math.ceil((T-W)/V),0);var R=0;var S=new Array(U);while(R<U){S[R++]=W;W+=V}return S};var K=function(){};Q.bind=function(U,S){var R,T;if(J&&U.bind===J){return J.apply(U,s.call(arguments,1))}if(!Q.isFunction(U)){throw new TypeError}R=s.call(arguments,2);return T=function(){if(!(this instanceof T)){return U.apply(S,R.concat(s.call(arguments)))}K.prototype=U.prototype;var W=new K;K.prototype=null;var V=U.apply(W,R.concat(s.call(arguments)));if(Object(V)===V){return V}return W}};Q.partial=function(R){var S=s.call(arguments,1);return function(){var T=0;var U=S.slice();for(var V=0,W=U.length;V<W;V++){if(U[V]===Q){U[V]=arguments[T++]}}while(T<arguments.length){U.push(arguments[T++])}return R.apply(this,U)}};Q.bindAll=function(S){var R=s.call(arguments,1);if(R.length===0){throw new Error("bindAll must be passed function names")}M(R,function(T){S[T]=Q.bind(S[T],S)});return S};Q.memoize=function(T,S){var R={};S||(S=Q.identity);return function(){var U=S.apply(this,arguments);return Q.has(R,U)?R[U]:(R[U]=T.apply(this,arguments))}};Q.delay=function(S,T){var R=s.call(arguments,2);return setTimeout(function(){return S.apply(null,R)},T)};Q.defer=function(R){return Q.delay.apply(Q,[R,1].concat(s.call(arguments,1)))};Q.throttle=function(S,U,Y){var R,W,Z;var X=null;var V=0;Y||(Y={});var T=function(){V=Y.leading===false?0:Q.now();X=null;Z=S.apply(R,W);R=W=null};return function(){var aa=Q.now();if(!V&&Y.leading===false){V=aa}var ab=U-(aa-V);R=this;W=arguments;if(ab<=0){clearTimeout(X);X=null;V=aa;Z=S.apply(R,W);R=W=null}else{if(!X&&Y.trailing!==false){X=setTimeout(T,ab)}}return Z}};Q.debounce=function(T,V,S){var Y,X,R,W,Z;var U=function(){var aa=Q.now()-W;if(aa<V){Y=setTimeout(U,V-aa)}else{Y=null;if(!S){Z=T.apply(R,X);R=X=null}}};return function(){R=this;X=arguments;W=Q.now();var aa=S&&!Y;if(!Y){Y=setTimeout(U,V)}if(aa){Z=T.apply(R,X);R=X=null}return Z}};Q.once=function(T){var R=false,S;return function(){if(R){return S}R=true;S=T.apply(this,arguments);T=null;return S}};Q.wrap=function(R,S){return Q.partial(S,R)};Q.compose=function(){var R=arguments;return function(){var S=arguments;for(var T=R.length-1;T>=0;T--){S=[R[T].apply(this,S)]}return S[0]}};Q.after=function(S,R){return function(){if(--S<1){return R.apply(this,arguments)}}};Q.keys=function(T){if(!Q.isObject(T)){return[]}if(i){return i(T)}var S=[];for(var R in T){if(Q.has(T,R)){S.push(R)}}return S};Q.values=function(V){var U=Q.keys(V);var T=U.length;var R=new Array(T);for(var S=0;S<T;S++){R[S]=V[U[S]]}return R};Q.pairs=function(V){var T=Q.keys(V);var S=T.length;var U=new Array(S);for(var R=0;R<S;R++){U[R]=[T[R],V[T[R]]]}return U};Q.invert=function(V){var R={};var U=Q.keys(V);for(var S=0,T=U.length;S<T;S++){R[V[U[S]]]=U[S]}return R};Q.functions=Q.methods=function(T){var S=[];for(var R in T){if(Q.isFunction(T[R])){S.push(R)}}return S.sort()};Q.extend=function(R){M(s.call(arguments,1),function(S){if(S){for(var T in S){R[T]=S[T]}}});return R};Q.pick=function(S){var T={};var R=C.apply(G,s.call(arguments,1));M(R,function(U){if(U in S){T[U]=S[U]}});return T};Q.omit=function(T){var U={};var S=C.apply(G,s.call(arguments,1));for(var R in T){if(!Q.contains(S,R)){U[R]=T[R]}}return U};Q.defaults=function(R){M(s.call(arguments,1),function(S){if(S){for(var T in S){if(R[T]===void 0){R[T]=S[T]}}}});return R};Q.clone=function(R){if(!Q.isObject(R)){return R
}return Q.isArray(R)?R.slice():Q.extend({},R)};Q.tap=function(S,R){R(S);return S};var N=function(Y,X,S,T){if(Y===X){return Y!==0||1/Y==1/X}if(Y==null||X==null){return Y===X}if(Y instanceof Q){Y=Y._wrapped}if(X instanceof Q){X=X._wrapped}var V=h.call(Y);if(V!=h.call(X)){return false}switch(V){case"[object String]":return Y==String(X);case"[object Number]":return Y!=+Y?X!=+X:(Y==0?1/Y==1/X:Y==+X);case"[object Date]":case"[object Boolean]":return +Y==+X;case"[object RegExp]":return Y.source==X.source&&Y.global==X.global&&Y.multiline==X.multiline&&Y.ignoreCase==X.ignoreCase}if(typeof Y!="object"||typeof X!="object"){return false}var R=S.length;while(R--){if(S[R]==Y){return T[R]==X}}var W=Y.constructor,U=X.constructor;if(W!==U&&!(Q.isFunction(W)&&(W instanceof W)&&Q.isFunction(U)&&(U instanceof U))&&("constructor" in Y&&"constructor" in X)){return false}S.push(Y);T.push(X);var ab=0,aa=true;if(V=="[object Array]"){ab=Y.length;aa=ab==X.length;if(aa){while(ab--){if(!(aa=N(Y[ab],X[ab],S,T))){break}}}}else{for(var Z in Y){if(Q.has(Y,Z)){ab++;if(!(aa=Q.has(X,Z)&&N(Y[Z],X[Z],S,T))){break}}}if(aa){for(Z in X){if(Q.has(X,Z)&&!(ab--)){break}}aa=!ab}}S.pop();T.pop();return aa};Q.isEqual=function(S,R){return N(S,R,[],[])};Q.isEmpty=function(S){if(S==null){return true}if(Q.isArray(S)||Q.isString(S)){return S.length===0}for(var R in S){if(Q.has(S,R)){return false}}return true};Q.isElement=function(R){return !!(R&&R.nodeType===1)};Q.isArray=y||function(R){return h.call(R)=="[object Array]"};Q.isObject=function(R){return R===Object(R)};M(["Arguments","Function","String","Number","Date","RegExp"],function(R){Q["is"+R]=function(S){return h.call(S)=="[object "+R+"]"}});if(!Q.isArguments(arguments)){Q.isArguments=function(R){return !!(R&&Q.has(R,"callee"))}}if(typeof(/./)!=="function"){Q.isFunction=function(R){return typeof R==="function"}}Q.isFinite=function(R){return isFinite(R)&&!isNaN(parseFloat(R))};Q.isNaN=function(R){return Q.isNumber(R)&&R!=+R};Q.isBoolean=function(R){return R===true||R===false||h.call(R)=="[object Boolean]"};Q.isNull=function(R){return R===null};Q.isUndefined=function(R){return R===void 0};Q.has=function(S,R){return n.call(S,R)};Q.noConflict=function(){A._=o;return this};Q.identity=function(R){return R};Q.constant=function(R){return function(){return R}};Q.property=function(R){return function(S){return S[R]}};Q.matches=function(R){return function(T){if(T===R){return true}for(var S in R){if(R[S]!==T[S]){return false}}return true}};Q.times=function(V,U,T){var R=Array(Math.max(0,V));for(var S=0;S<V;S++){R[S]=U.call(T,S)}return R};Q.random=function(S,R){if(R==null){R=S;S=0}return S+Math.floor(Math.random()*(R-S+1))};Q.now=Date.now||function(){return new Date().getTime()};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=Q.invert(q.escape);var O={escape:new RegExp("["+Q.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+Q.keys(q.unescape).join("|")+")","g")};Q.each(["escape","unescape"],function(R){Q[R]=function(S){if(S==null){return""}return(""+S).replace(O[R],function(T){return q[R][T]})}});Q.result=function(R,T){if(R==null){return void 0}var S=R[T];return Q.isFunction(S)?S.call(R):S};Q.mixin=function(R){M(Q.functions(R),function(S){var T=Q[S]=R[S];Q.prototype[S]=function(){var U=[this._wrapped];L.apply(U,arguments);return w.call(this,T.apply(Q,U))}})};var D=0;Q.uniqueId=function(R){var S=++D+"";return R?R+S:S};Q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/;var l={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var m=/\\|'|\r|\n|\t|\u2028|\u2029/g;Q.template=function(Z,U,T){var S;T=Q.defaults({},T,Q.templateSettings);var V=new RegExp([(T.escape||z).source,(T.interpolate||z).source,(T.evaluate||z).source].join("|")+"|$","g");var W=0;var R="__p+='";Z.replace(V,function(ab,ac,aa,ae,ad){R+=Z.slice(W,ad).replace(m,function(af){return"\\"+l[af]});if(ac){R+="'+\n((__t=("+ac+"))==null?'':_.escape(__t))+\n'"}if(aa){R+="'+\n((__t=("+aa+"))==null?'':__t)+\n'"}if(ae){R+="';\n"+ae+"\n__p+='"}W=ad+ab.length;return ab});R+="';\n";if(!T.variable){R="with(obj||{}){\n"+R+"}\n"}R="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+R+"return __p;\n";try{S=new Function(T.variable||"obj","_",R)}catch(X){X.source=R;throw X}if(U){return S(U,Q)}var Y=function(aa){return S.call(this,aa,Q)};Y.source="function("+(T.variable||"obj")+"){\n"+R+"}";return Y};Q.chain=function(R){return Q(R).chain()};var w=function(R){return this._chain?Q(R).chain():R};Q.mixin(Q);M(["pop","push","reverse","shift","sort","splice","unshift"],function(R){var S=G[R];Q.prototype[R]=function(){var T=this._wrapped;S.apply(T,arguments);if((R=="shift"||R=="splice")&&T.length===0){delete T[0]}return w.call(this,T)}});M(["concat","join","slice"],function(R){var S=G[R];Q.prototype[R]=function(){return w.call(this,S.apply(this._wrapped,arguments))}});Q.extend(Q.prototype,{chain:function(){this._chain=true;
return this},value:function(){return this._wrapped}});if(typeof define==="function"&&define.amd){define("underscore",[],function(){return Q})}}).call(this)},{}]},{},[1]);